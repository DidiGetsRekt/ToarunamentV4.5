;===========================================================================
; 超必殺技
;===========================================================================
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『ゲートオブネジロン』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2000]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 2000
ctrl = 0
sprpriority = 2
poweradd = -1000

	[State 2600,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.444
		fvar(1)= ifelse(var(24)<2,0.444,(0.333/(var(24)-1)))
		persistent = 0
 		ignorehitpause = 1

	[State 2600,停止時間セット]
		Type = VarSet
		Trigger1 = Time = 0
		var(20) = 97

	[State 2600,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		
	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

[State 2000, 背景]
type = BGPalFX
Trigger1=Anim=2000
time = 1
add = 256,256,256
mul = 0,0,0
invertall = 0

[State 2000, EX暗転]
type = SuperPause
Trigger1=Anim=2000
trigger1 = AnimElemTime(1) = 0
time = var(20)
anim = -1
sound = S105,8
pos = 0,0
movetime = var(20)
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[State 2000,超必殺エフェクト]
Type=Explod
Trigger1=Time=0
Anim=6000
ID=6000
PosType=p1
Pos=-0,-65
Ownpal=0
SprPriority=3
OnTop=0
RemoveTime=30
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9**8
PauseMoveTime=9**8

	[State -1,カットイン1]
		Type=Explod
		trigger1 = time =0
		Anim=7010
		ID=7010
		PosType=Back
		Pos=40,8
		Ownpal=0
		Scale=.225,.225
		SprPriority=2
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

[State 2000, 発射ボイス]
type = PlaySnd
trigger1 = anim = 2000
trigger1 = animelemtime(1) = 0
value = 2000, random%2
channel = 0

[State 2000, ゲート音]
type = PlaySnd
trigger1 = AnimElemTime(2) = 20
trigger2 = animElemTime(2) = 30
trigger3 = AnimElemTime(2) = 40
trigger4 = animElemTime(2) = 50
trigger5 = AnimElemTime(2) = 55
value = 110, 2
volume = 0
channel = -1
lowpriority = 0
freqmul = 1
loop = 0
pan = 0

[State 2000,位置1x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 19
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 1
var(0) = -20
[State 2000,位置1y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 19
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 1
var(10) =  -150
[State 2000,位置2x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 29
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 2
var(0) = 30
[State 2000,位置2y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 29
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 2
var(10) =  -80
[State 2000,位置3x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 39
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 3
var(0) = -70
[State 2000,位置3y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 39
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 3
var(10) =  -120
[State 2000,位置4x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 49
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 4
var(0) = -50
[State 2000,位置4y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 49
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 4
var(10) =  -10
[State 2000,位置5x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 50
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 5
var(0) = -140
[State 2000,位置5y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 50
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 5
var(10) =  -140
[State 2000,位置6x]
type = VarSet
trigger1 = anim = 2000
trigger1 =animelemtime(2) = 51
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 6
var(0) = -120
[State 2000,位置6y]
type = VarSet
trigger1 = anim = 2000
trigger1 =animelemtime(2) = 51
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 6
var(10) =  -60
[State 2000,位置7x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 53
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 7
var(0) = -200
[State 2000,位置7y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 53
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 7
var(10) =  -110
[State 2000,位置8x]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 54
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 8
var(0) = -180
[State 2000,位置8y]
type = VarSet
trigger1 = anim = 2000
trigger1 = animelemtime(2) = 54
trigger2 = anim = 2001
trigger2 = animelemtime(1) = 8
var(10) =  -45


[State 2000, 準備ゲート]
type = Explod
triggerAll = anim = 2000
trigger1 = animelemtime(2) = 20
trigger2 = animelemtime(2) = 30
trigger3 = animelemtime(2) = 40
trigger4 = animelemtime(2) = 50
trigger5 = animelemtime(2) = 51
trigger6 = animelemtime(2) = 52
trigger7 = animelemtime(2) = 53
trigger8 = animelemtime(2) = 55
anim = 2012
ID = 2012
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 60
pausemovetime = 0
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 2000, 準備螺子]
type = Explod
triggerAll = anim = 2000
trigger1 = animelemtime(2) = 20
trigger2 = animelemtime(2) = 30
trigger3 = animelemtime(2) = 40
trigger4 = animelemtime(2) = 50
trigger5 = animelemtime(2) = 51
trigger6 = animelemtime(2) = 52
trigger7 = animelemtime(2) = 53
trigger8 = animelemtime(2) = 55
anim = 2010
ID = 2012
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 60
pausemovetime = 0
sprpriority = 1
ownpal = 1
removetime = -1
removeongethit = 1

[State 2000, ステート変更]
type = Changeanim
trigger1 = Anim = 2000
trigger1 = time = var(20)
value = 2001

[State 2000, ]
type = RemoveExplod
triggerAll = anim = 2001
trigger1 = animelemtime(1) = 1
ID = 2012

[State 2000, 発射ゲート]
type = Explod
triggerAll = anim = 2001
trigger1 = animelemtime(1) = 1
trigger2 = animelemtime(1) = 2
trigger3 = animelemtime(1) = 3
trigger4 = animelemtime(1) = 4
trigger5 = animelemtime(1) = 5
trigger6 = animelemtime(1) = 6
trigger7 = animelemtime(1) = 7
trigger8 = animelemtime(1) = 8
anim = 2013
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 0
pausemovetime = 0
sprpriority = 1
ownpal = 1
removeongethit = 1


	[State 2000, ゲート・オブ・バビロン攻撃判定]
		type = Helper
		triggerAll = anim = 2001
		trigger1 = animelemtime(1) = 1
		stateno = 2015;出現するヘルパーのステートです。
		ID = 2015;ヘルパーのIDです
		postype = p1;ヘルパーが出現する座標軸です
		pos = 0,0;ヘルパーが出現する座標です。
		helpertype = normal;ヘルパーの種類を設定します。
		name = "gate";出現させるヘルパーの名前です。
		keyctrl = 0;キーの制御を受け付けるかどうかです。
		ownpal = 1

	[State -1,超必殺技カウント]
		Type= Varadd
		trigger1 = ProjHitTime(2011) = 1
		var(24)=1
		persistent = 0
 		ignorehitpause = 1

	[State 2600,補正設定]
		Type = VarSet
		trigger1 = ProjHitTime(2011) = 1
		fvar(1)=fvar(1)*.666
		persistent = 0
 		ignorehitpause = 1

	[State 2600,補正設定]
		Type = VarSet
		trigger1 = ProjHitTime(2011) = 1
		fvar(0)=fvar(0)*.5
		persistent = 0
 		ignorehitpause = 1

;	[State 2600,キャンセルフラグ設定]
;		Type = VarSet
;;		trigger1 = ProjContactTime(2011) = 1
;		var(1)=1
;		persistent = 0
 ;		ignorehitpause = 1

[State 2000, ステート変更]
type = ChangeState
Trigger1=Anim=2001
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;螺子ロン攻撃判定
[Statedef 2015]
type = A ;
movetype= A ;
velset = 0,0
anim = 29999 ;
sprpriority = -10


[State 2000, 発射螺子];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = time = 0
trigger2 = time = 1
trigger3 = time = 2
trigger4 = time = 3
trigger5 = time = 4
trigger6 = time = 5
trigger7 = time = 6
trigger8 = time = 7
attr = S, HP ;立ち必殺飛び道具（Standing, Special Projectile）
damage = Ceil(ifelse(root,var(2) != 0,40,30)*root,fvar(1)),6
getpower = 0,0
animtype = Hard
pausetime = 0,10
;-----------------------------------Projectile専用のパラメータ
offset = root,var(0), root,var(10)                ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity = 0,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel = 10,0                  ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID = 2011                  ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim = 2011                ;飛び道具のアニメ（アクションナンバー）
projhitanim = 2011             ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim = 2011             ;飛び道具が消える時のアニメ（アクションナンバー）
projscale = 1,1                ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在２倍
projshadow = 255,255,255       ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits = 1                   ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority = -1              ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremove = 0				   ;飛び道具の消える可否
projremovetime = -1            ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projedgebound =200
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag = MA
priority = 3
sparkno = -1
sparkxy = 20,0
guard.sparkno = S10000
hitsound = S105,7
guardsound = 6,0
ground.type = High
ground.slidetime = 14
ground.hittime = 16
ground.velocity = -6,-4
air.velocity = -3,-4
envshake.time = 8
envshake.ampl = 6
envshake.freq = 100
fall=1
fall.recover = 0
fall.recovertime = 9999999999999999
guard.dist = 300
yaccel = .375

	[State 2600,キャンセルフラグ設定]
		Type = ParentVarSet
		trigger1 = ProjContactTime(2011)
		trigger1 = time>= 5
		var(1)=1
		persistent = 0
 		ignorehitpause = 1

	[State 2515, 7]
		type = DestroySelf
		trigger1 = time= 10

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『ゲートオブネジロン』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2050]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 2005
ctrl = 0
sprpriority = 2
poweradd = -1000

	[State 2600,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
;		Trigger1=fvar(0)<=0.444
;		fvar(1)= ifelse(var(24)<2,0.444,0.333)
		Trigger1=fvar(0)<=0.555
		fvar(1)= ifelse(var(24)<2,0.555,ifelse(var(24)<3,0.444,0.333))
		persistent = 0
 		ignorehitpause = 1

	[State 2600,停止時間セット]
		Type = VarSet
		Trigger1 = Time = 0
		var(20) = 97

	[State 2600,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 1050, 位置固定]
		type = PosFreeze
		trigger1 = anim = 2005
		trigger2 = anim = 2006
		trigger2 = animelemtime(11) < 0
		
	[State 1050, 重力付加]
		type = VelAdd
		trigger1 = anim = 2006
		trigger1 = animelemtime(10) >= 0
		y = 0.65

[State 2000, 背景]
type = BGPalFX
Trigger1=Anim=2005
time = 1
add = 256,256,256
mul = 0,0,0
invertall = 0

[State 2000, EX暗転]
type = SuperPause
Trigger1=Anim=2005
trigger1 = AnimElemTime(1) = 0
time = var(20)
anim = -1
sound = S105,8
pos = 0,0
movetime = var(20)
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[State 2000,超必殺エフェクト]
Type=Explod
Trigger1=Time=0
Anim=6000
ID=6000
PosType=p1
Pos=-0,-85
Ownpal=0
SprPriority=3
OnTop=0
RemoveTime=30
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9**8
PauseMoveTime=9**8

	[State -1,カットイン1]
		Type=Explod
		trigger1 = time = 0
		Anim=7011
		ID=7011
		PosType=Back
		Pos=ifelse(pos x > 0,-facing*45,facing*45),-30
		Ownpal=0
		Scale=.25,.25
		SprPriority=2
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1


[State 2000, 発射ボイス]
type = PlaySnd
trigger1 = anim = 2005
trigger1 = animelemtime(1) = 0
value = 2000, random%2
channel = 0

[State 2000, ゲート音]
type = PlaySnd
triggerAll = anim = 2005
trigger1 = AnimElemTime(2) = 0
trigger2 = animElemTime(2) = 10
trigger3 = AnimElemTime(2) = 20
trigger4 = animElemTime(2) = 30
trigger5 = AnimElemTime(2) = 35
value = 110, 2
volume = 0
channel = -1
lowpriority = 0
freqmul = 1
loop = 0
pan = 0

[State 2000,位置1x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 0
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 1
var(0) = -20
[State 2000,位置1y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 0
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 1
var(10) =  -150
[State 2000,位置2x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 10
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 2
var(0) = 30
[State 2000,位置2y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 10
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 2
var(10) =  -80
[State 2000,位置3x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 20
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 3
var(0) = -70
[State 2000,位置3y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 20
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 3
var(10) =  -120
[State 2000,位置4x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 30
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 4
var(0) = -50
[State 2000,位置4y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 30
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 4
var(10) =  -10
[State 2000,位置5x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 31
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 5
var(0) = -140
[State 2000,位置5y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 31
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 5
var(10) =  -140
[State 2000,位置6x]
type = VarSet
trigger1 = anim = 2005
trigger1 =animelemtime(2) = 32
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 6
var(0) = -120
[State 2000,位置6y]
type = VarSet
trigger1 = anim = 2005
trigger1 =animelemtime(2) = 32
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 6
var(10) =  -60
[State 2000,位置7x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 33
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 7
var(0) = -200
[State 2000,位置7y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 33
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 7
var(10) =  -110
[State 2000,位置8x]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 35
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 8
var(0) = -180
[State 2000,位置8y]
type = VarSet
trigger1 = anim = 2005
trigger1 = animelemtime(2) = 35
trigger2 = anim = 2006
trigger2 = animelemtime(1) = 8
var(10) =  -45

[State 2000, 準備ゲート]
type = Explod
triggerAll = anim = 2005
trigger1 = animelemtime(2) = 00
trigger2 = animelemtime(2) = 10
trigger3 = animelemtime(2) = 20
trigger4 = animelemtime(2) = 30
trigger5 = animelemtime(2) = 31
trigger6 = animelemtime(2) = 32
trigger7 = animelemtime(2) = 33
trigger8 = animelemtime(2) = 35
anim = 2012
ID = 2012
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 60
pausemovetime = 0
sprpriority = 1
ownpal = 1
removeongethit = 1

[State 2000, 準備螺子]
type = Explod
triggerAll = anim = 2005
trigger1 = animelemtime(2) = 00
trigger2 = animelemtime(2) = 10
trigger3 = animelemtime(2) = 20
trigger4 = animelemtime(2) = 30
trigger5 = animelemtime(2) = 31
trigger6 = animelemtime(2) = 32
trigger7 = animelemtime(2) = 33
trigger8 = animelemtime(2) = 35
anim = 2010
ID = 2012
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 60
pausemovetime = 0
sprpriority = 1
ownpal = 1
removetime = -1
removeongethit = 1

[State 2000, ステート変更]
type = Changeanim
trigger1 = Anim = 2005
trigger1 = time = var(20)
value = 2006

[State 2000, ]
type = RemoveExplod
triggerAll = anim = 2006
trigger1 = animelemtime(1) = 1
ID = 2012

[State 2000, 発射ゲート]
type = Explod
triggerAll = anim = 2006
trigger1 = animelemtime(1) = 1
trigger2 = animelemtime(1) = 2
trigger3 = animelemtime(1) = 3
trigger4 = animelemtime(1) = 4
trigger5 = animelemtime(1) = 5
trigger6 = animelemtime(1) = 6
trigger7 = animelemtime(1) = 7
trigger8 = animelemtime(1) = 8
anim = 2013
pos = var(0), var(10)
postype = p1
bindtime = -1
random = 0, 0
supermovetime = 0
pausemovetime = 0
sprpriority = 1
ownpal = 1
removeongethit = 1

	[State 2500, ゲート・オブ・バビロン攻撃判定]
		type = Helper
		triggerAll = anim = 2006
		trigger1 = animelemtime(1) = 1
		stateno = 2015;出現するヘルパーのステートです。
		ID = 2015;ヘルパーのIDです
		postype = p1;ヘルパーが出現する座標軸です
		pos = 0,0;ヘルパーが出現する座標です。
		helpertype = normal;ヘルパーの種類を設定します。
		name = "gate";出現させるヘルパーの名前です。
		keyctrl = 0;キーの制御を受け付けるかどうかです。
		ownpal = 1

	[State -1,超必殺技カウント]
		Type= Varadd
		trigger1 = ProjHitTime(2011) = 1
		var(24)=1
		persistent = 0
 		ignorehitpause = 1

	[State 2600,補正設定]
		Type = VarSet
		trigger1 = ProjHitTime(2011) = 1
		fvar(1)=fvar(1)*.666
		persistent = 0
 		ignorehitpause = 1

	[State 2600,補正設定]
		Type = VarSet
		trigger1 = ProjHitTime(2011) = 1
		fvar(0)=fvar(0)*.5
		persistent = 0
 		ignorehitpause = 1

;	[State 2600,キャンセルフラグ設定]
;		Type = VarSet
;		trigger1 = ProjContactTime(2011) = 1
;		var(1)=1
;		persistent = 0
; 		ignorehitpause = 1

	[State 1050, ステート変更]
		type = ChangeState
		trigger1 = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 53;1040

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『グングニルの螺子』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[StateDef 2100,『グングニルの螺子』]
	type    = S
	movetype= A
	physics = S
	anim = 2100
	velset = 0,0
	poweradd = -1000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

	[State 2100,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2100,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.60
		fvar(1)= ifelse(var(24)<2,0.60,(0.50/(var(24)-1)))
		persistent = 0
 		ignorehitpause = 1

	[State 2100,押し判定]
		type = PlayerPush
		trigger1 = anim = 2100
		value = 0

	[State 1300, 固定]
		type = Helper
		Trigger1 = Time = 0
		ID = 6525
		pos = 0,0
		postype = p1
		stateno = 6525
		helpertype = normal
		name = "AT"
		keyctrl = 0
		ownpal = 1
		supermovetime = 0
		pausemovetime = 0
		size.xscale = 1.0
		size.yscale = 1.0

	[State 2100,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=30
		under=1

	[State 2100, EX暗転]
		type = SuperPause
		trigger1 = AnimElemTime(1) = 0
		time = 30
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = 30
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2100,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-65
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,ダンガンカットイン]
		Type=Explod
		Trigger1=Time=0
		Anim=7012
		ID=7000
		PosType=left
		Pos=0,8
		Ownpal=0
		SprPriority=1
		Scale=.5,.5
		OnTop=0
		RemoveTime=-2
		bindTime=30
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State -1,論破]
		Type=Explod
		Trigger1=Time=0
		Anim=7013
		ID=7000
		PosType=left
		Pos=-62,8
		Ownpal=0
		SprPriority=0
		Scale=.45,.45
		OnTop=0
		RemoveTime=-2
		bindTime=30
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State -1,論破背景]
		Type=Explod
		Trigger1=Time=0
		Anim=7014
		ID=7000
		PosType=left
		Pos=0,0
		Ownpal=0
		SprPriority=-1
		Scale=.55,.55
		OnTop=0
		RemoveTime=-2
		bindTime=30
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2000, ボイス]
		type = PlaySnd
		trigger1 = animelemtime(1) = 0
		value = 2100, 0
		channel = 0

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=40
		Anim=6240
		ID=6240
		PosType=p1
		Pos=55,10
		Ownpal=0
		Scale=0.8,0.9
		SprPriority=5
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2000, SE]
		type = PlaySnd
		trigger1 = time = 40
		value = 110, 7

	[State 2100, グンニグル];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
		type = Projectile
		trigger1 = time = 40
		attr = S, HA ;立ち必殺飛び道具（Standing, Special Projectile）
		damage = Ceil(ifelse(var(2) != 0,44,33)*fvar(1)),6
		getpower = 0,0
		animtype = Hard
		pausetime = 0,12
		;-----------------------------------Projectile専用のパラメータ
		offset = 50, 0                ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
		velocity = 0,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
		accel = 0,0                  ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
		projID = 2110                  ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
		projanim = 2110              ;飛び道具のアニメ（アクションナンバー）
		projhitanim = -1             ;飛び道具がヒットした時のアニメ（アクションナンバー）
		projremanim = 2111            ;飛び道具が消える時のアニメ（アクションナンバー）
		projscale = 1,1                ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在２倍
		projshadow = 0,0,0       ;飛び道具の影の色合い（赤,緑,青）※現在影無し
		projhits = 5                   ;飛び道具のヒット数（２以上なら多段ヒットになる）
		projmisstime = 2               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
		projpriority = -1              ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
		projremove = 0				   ;飛び道具の消える可否
		projremovetime = 50            ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
		projedgebound =200
		;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
		guardflag = MA
		priority = 3
		sparkno = -1
		sparkxy = 0,0
		guard.sparkno = S10000
		hitsound = S105,2+random%2
		guardsound = 6,0
		ground.type = High
		ground.slidetime = 2
		ground.hittime = 2
		ground.velocity = -1,-6
		air.velocity = -1,-6
		envshake.time = 8
		envshake.ampl = 6
		envshake.freq = 100
		fall=1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2100
		yaccel = .525

	[State 2100,位置固定]
		type = TargetBind
		trigger1 = Projhit(2110) = 1
		time = 1
		ID = 2100
		pos = 66,-65
		ignorehitpause = 1
		persistent = 0

	[State -1,超必殺技カウント]
		Type= Varadd
		trigger1 = Projhit(2110) = 1
		var(24)=1
		persistent = 0
 		ignorehitpause = 1

	[State 2100,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = Projhit(2110) = 1
		fvar(0)=fvar(0)*.5
		ignorehitpause = 1
		persistent = 0

	[State 2100,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = Projhit(2110) != 0
		trigger1 = time > 55
		var(1)=1
		ignorehitpause = 1
		persistent = 0

	[State 2100, ]
		type = ChangeAnim
		trigger1 = anim = 2100
		trigger1 = time = 90
		value = 2101

	[State 2100, ステート変更]
		type = ChangeState
		trigger1 = anim = 2101
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1


;---------------------------------------------------------------------------
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『裸エプロン』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;裸エプロン：掴み
[Statedef 2200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2200
sprpriority = 2
poweradd = -1000

	[State 2100,キャンセルフラグ初期化]
		Type = posadd
		Trigger1 = Time = 0
		x = 20

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.777
		fvar(1)= 0.777
		persistent = 0
 		ignorehitpause = 1

	[State 2100,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2100,]
		type = SprPriority
		trigger1 = 1
		value = 2

[State 2200,暗転処理]
Type=envColor
Trigger1=Time=0
value=0,0,0
Time=30
under=1

[State 2200, EX暗転]
type = SuperPause
trigger1 = AnimElemTime(1) = 0
time = 30
anim = -1
sound = S105,8
pos = 0,0
movetime = 30
darken = 0
p2defmul = 1
poweradd = 0
unhittable = 1

[State 2200,超必殺エフェクト]
Type=Explod
Trigger1=Time=0
Anim=6000
ID=6000
PosType=p1
Pos=-0,-45
Ownpal=0
SprPriority=3
OnTop=0
RemoveTime=30
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9999
PauseMoveTime=9999

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7001
		ID=7000
		PosType=Back
		Pos=-35,60
		Ownpal=0
;		Scale=1.2,1.2
		SprPriority=1
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

[State 2200, ヒット定義（投げ用）]
type = HitDef
trigger1 = Time = 0
attr = S, HT ;立ち通常投げ（Standing, Normal Throw）
hitflag = MAF  ;
priority = 1, Miss
sparkno = -1  ;-1だからヒットスパークは表示しない
p1sprpriority = 1
p1facing = 1
p2facing = 1
;p1stateno = 2210
p2stateno = 2230
guard.dist = 0 ;相手のガード態勢に入る距離を０にしてるので、ガード不可
fall = 1
ID=2200

[State 800, ステート変更]
type = ChangeState
Trigger1 = NumTarget(2200)
Trigger1 = Target,stateno = 2230
value = 2210
ignorehitpause=1

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;裸エプロン共通
[Statedef 2210]
type    = S
movetype= A
physics = N
anim = 2210
poweradd = 60
sprpriority = 5

	[State 2210,裸エプロン使用制限]
		Type = VarSet
		Trigger1 = Time = 0
		var(15) = 1

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2210,ボイス]
		Type=playSnd
		trigger1 = AnimElem = 8
		value=20,20
		channel=0

	[State 2210, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElem = 1
		trigger2 = AnimElem = 3
		value = 105, 2

	[State 2210,丸螺子]
		Type = Explod
		trigger1 = AnimElem = 1
		Anim = 1301
		PosType = P2
		Pos = -10, -50
		BindTime = -11
		RemoveTime = -2
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 3
		ID = 801
		persistent=0

	[State 2210,角螺子]
		Type = Explod
		trigger1 = AnimElem = 3
		Anim = 1302
		PosType = P2
		Pos = -10, -45
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 4
		ID = 801
		persistent=0

	[State 2210,血]
		Type = Explod
		trigger1 = AnimElemtime(9) = 0
		Anim = 1303
		PosType = P2
		Pos = -5, -45
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		ontop = 1
		persistent=0

	[State 2210, 檻迎奥]
		Type = Explod
		trigger1 = AnimElemtime(18) = 20
		Anim = 2221
		PosType = P2
		Pos = 0,10
		BindTime = -1
		RemoveTime = -1
		Ownpal = 1
		Scale = 1.25,1.25
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = -5
		persistent=0
		ID = 802

	[State 2210, 檻迎]
		Type = Explod
		trigger1 = AnimElemtime(18) = 20
		Anim = 2220
		PosType = P2
		Pos = 0,10
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1.25,1.25
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		persistent=0
		ID = 802

	[State 2210, 檻迎奥]
		Type = Explod
		trigger1 = AnimElemtime(22) = 70
		Anim = 2223
		PosType = P2
		Pos = 0,10
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1.25,1.25
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = -5
		persistent=0

	[State 2210, 檻迎]
		Type = Explod
		trigger1 = AnimElemtime(22) = 70
		Anim = 2222
		PosType = P2
		Pos = 0,10
		BindTime = 1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1.25,1.25
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		persistent=0

	[State 2210,位置調整]
		type = posadd
		trigger1 = AnimElemtime(10) = 0
		x = -70

	[State 2210,エフェクト削除]
		type = RemoveExplod
		trigger1 = AnimElem = 11
		ID = 801

	[State 2210,エフェクト削除]
		type = RemoveExplod
		trigger1 = AnimElemtime(22) = 70
		ID = 802

	[State 2210, 血音1]
		type = PlaySnd
		trigger1 = AnimElem = 8
		value = 105, 27

	[State 2210, 血音2]
		type = PlaySnd
		trigger1 = AnimElem = 10
		value = 105, 28

	[State 2210,SE]
		Type=playSnd
		trigger1 = AnimElemTime(22) = 70
		value=110,6

	[State -1,カットイン1]
		Type=Explod
		trigger1 = AnimElemTime(22) = 15
		Anim=7000
		ID=7000
		PosType=Back
		Pos=0,20
		Ownpal=0
		Scale=.18,.18
		SprPriority=5
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

[State 2210,暗転処理]
Type=envColor
trigger1 = AnimElemTime(22) = 15
value=0,0,0
Time=150;40
under=1

[State 2210, 指パッチン音]
type = PlaySnd
trigger1 = AnimElemTime(22) = 0
value = 105, 26
volume = 0
channel = -1
lowpriority = 0
freqmul = 1
loop = 0
pan = 0

	[State 2210, 掴んだ相手の位置１];TargetBindで相手を一時的に拘束
		type = TargetBind
		trigger1 = AnimElemTime(2) < 0
		pos = 35, 0  ;自分の軸位置から相手の軸をX=28・Y=0の位置にする

	[State 2210, 掴んだ相手の位置３]
		type = TargetBind
		trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(8) < 0
		pos = 52, 0

	[State 2210, 掴んだ相手の位置３]
		type = TargetBind
		trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(10) < 0
		pos = 56, 0

		;相手が食らい状態の時のみ機能するTarget系コントローラ
	[State 2210, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElem = 1
		value = -13*fvar(1)
		kill = 0		;不殺

	[State 2210, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElem = 3
		value =  -Ceil(13*fvar(1))
		kill = 0		;不殺

	[State 2210, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElem = 8
		value =  -Ceil(13*fvar(1))
		kill = 0		;不殺

	[State 2210, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElem = 10
		value =  -Ceil(91*fvar(1))
		kill = 0		;不殺

	[State 2210, 相手ふっとびステート移行]
		type = TargetState
		trigger1 = AnimElem = 10
		value = 2231

	[State 2210, 相手裸エプロン判定ステート移行]
		type = TargetState
		trigger1 = AnimElemTime(18) = 75
		value = 2235

	[State 2210, ?u?`?M???‡?G?v???“???s]
        type = ChangeState
                trigger1 = p2life <= lifemax/3
        trigger1 = target(2200),anim != (88260) || target(2200),anim = 88261
        trigger1 = AnimElemTime(22) > 80
        value = 2215

    [State 2210, ????‘????‡?G?v???“???s]
        type = ChangeState
        trigger1 = var(53) = 0
                trigger1 = p2life <= lifemax/3
        trigger1 = target(2200),anim = 88260
        trigger1 = AnimElemTime(22) > 100
        value = 2214

    [State 2210, ?‰?X?{?X‘????‡?G?v???“‘?‰?]
        type = ChangeState
        trigger1 = var(23)
                trigger1 = p2life <= lifemax/3
        trigger1 = target(2200),anim = 88260
        trigger1 = AnimElemTime(22) > 100
        value = 2213

    [State 2210, ‘????‡?G?v???“‘?‰?]
        type = ChangeState
        trigger1 = target(2200),anim = 88260
        trigger1 = AnimElemTime(22) > 100
        value = 2211

    [State 2210, ‘????‡?G?v???“?¢‘?‰?]
        type = ChangeState
        trigger1 = target(2200),anim != 88260
        trigger1 = AnimElemTime(22) > 100
        value = 2212


;---------------------------------------------------------------------------
;裸エプロン対応
[Statedef 2211]
type    = S
movetype= A
physics = N
anim = 2211
poweradd = 60
sprpriority = 2

[State 2210,暗転処理]
Type=envColor
trigger1 = time = 0
value=0,0,0
Time=0;40
under=1

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0
		ignorehitpause=1

	[State 2211, ライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElem = 2
		value = Ceil(195*fvar(1))
		kill = 1		;不殺
		
	[State 2211, ゲージ増減]
		type = PowerAdd
		trigger1 = AnimElem = 2
		value = 0

	[State 2211, 血]
		type = Explod
		trigger1 = AnimElem = 2
		anim = 2113
		pos = -15, -65
		postype = p1
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 3
		scale = 1,1
		ownpal = 1
		removeongethit = 1
		facing = -1

	[State 2211, 血音1]
		type = PlaySnd
		trigger1 = AnimElem = 2
		value = 105, 28

	[State 2212,ボイス]
		Type=playSnd
		trigger1 = AnimElem = 12
		value=11,7
		channel=0


	[State 2211, ]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1
;---------------------------------------------------------------------------
;裸エプロン未対応
[Statedef 2212]
type    = S
movetype= A
physics = N
anim = 2212
poweradd = 60
sprpriority = 5

[State 2210,暗転処理]
Type=envColor
trigger1 = time = 0
value=0,0,0
Time=0;40
under=1

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
 		ignorehitpause = 1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2212,ボイス]
		Type=playSnd
		trigger1 = AnimElem = 3
		value=20,21
		channel=0

	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 10
		anim = 1211
		ID = 1211
		pos = 0, -50
		postype = p2
		bindtime = -1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -1
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1
		removeongethit = 1

	[State 2212, 螺子消し]
		type = RemoveExplod
		trigger1 = time = 70
		trigger2 = time = 220
		ID = 1211

	[State 2212, 掴んだ相手のステート変更]
		type = TargetState
		trigger1 = target(2200),stateno = 2235
		trigger1 = Time = 70
		value = 2270

	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 70
		anim = 1216
		id = 1211
		pos = 0, 0
		postype = p2
		bindtime = 1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -1
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 4
		ownpal = 1
		removeongethit = 1

	[State 2212, 画面振動]
		type = EnvShake
		trigger1 = time = 70
		time = 8
		ampl = 20
		freq = -17

	[State 2212, 血1]
		type = Explod
		trigger1 = time = 70
		anim = 2113
		pos = 20, -5
		postype = p2
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 2
		ownpal = 1
		removeongethit = 1
		facing = -1

	[State 2212, 血2]
		type = Explod
		trigger1 = time = 70
		anim = 2113
		pos = -20, -5
		postype = p2
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 2
		ownpal = 1
		removeongethit = 1


	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 220
		anim = 1217
		pos = 0, 0
		postype = p2
		bindtime = 1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1
		removeongethit = 1

	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 115
		anim = 1213
		ID = 1213
		pos = 0, -70
		postype = p2
		bindtime = -1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -1
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1
		removeongethit = 1

	[State 2212, 螺子消し]
		type = RemoveExplod
		trigger1 = time = 130
		ID = 1213

	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 130
		anim = 1214
		pos = 0, 0
		postype = p2
		bindtime = 1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 2
		ownpal = 1
		removeongethit = 1

	[State 2212, 螺子]
		type = Explod
		trigger1 = time = 130
		anim = 1215
		pos = 0, 0
		postype = p2
		bindtime = 1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = -3
		ownpal = 1
		removeongethit = 1

	[State 2212, 血]
		type = Explod
		trigger1 = time = 130
		anim = 2113
		pos = 5, -10
		postype = p2
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 3
		scale = 1.25,1.5
		ownpal = 1
		removeongethit = 1
		facing = -1

	[State 2212, 画面振動]
		type = EnvShake
		trigger1 = time = 130
		time = 8
		ampl = 2
		freq = 170

	[State 2212, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = time = 70
		value = -Ceil(65*fvar(1))
		kill = 0		;不殺


	[State 2212, 掴んだ相手のライフ増減]
		type = TargetLifeAdd
		trigger1 = time = 130
		value = -Ceil(130*fvar(1))

	[State 2212, 串刺し音]
		type = PlaySnd
		trigger1 = time =70
		value = 105, 7
		volume = 0
		channel = -1
		lowpriority = 0
		freqmul = 1
		loop = 0
		pan = 0

	[State 2212, 串刺し音]
		type = PlaySnd
		trigger1 = time = 130
		value = 105, 7
		volume = 0
		channel = -1
		lowpriority = 0
		freqmul = 1
		loop = 0
		pan = 0

	[State 2212, 串刺し音]
		type = PlaySnd
		trigger1 = time = 130
		value = 105, 27
		volume = 0
		channel = -1
		lowpriority = 0
		freqmul = 1
		loop = 0
		pan = 0

	[State 2212, 画面揺れ]
		type = EnvShake
		trigger1 = time = 130
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 2212, ]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1
		
;---------------------------------------------------------------------------
;裸エプロン対応ラスボス
[Statedef 2213]
type    = S
movetype= A
physics = N
anim = 2213
poweradd = 0
sprpriority = 2

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
 		ignorehitpause = 1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2211, ゲージ増減]
		type = PowerAdd
		trigger1 = time = 3
		value = 6000

	[State 2212,ボイス]
		Type=playSnd
		trigger1 = time = 3
		value=11,9
		channel=0

	[State 2211, ]
		type = Changeanim
		trigger1 = Time > 80
		value = 2213
		elem = 3

	[State 2211, ]
		type = ChangeState
		trigger1 = Time = 110
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;即死裸エプロン対応(自分)
[Statedef 2214]
type    = S
movetype= H
physics = N
anim = 2211
poweradd = 0
sprpriority = 2

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0
		ignorehitpause=1

	[State 2600,]
		type = Varset
		Trigger1=Time=0
		var(42)= 6
		persistent = 0
 		ignorehitpause = 1


	[State 2210,SE]
		Type=playSnd
		trigger1 = AnimElemTime(2) = 0
		value=110,12

	[State -1,カットイン1]
		Type=Explod
		trigger1 = AnimElem = 2
		Anim=7020
		ID=7000
		PosType=right
		Pos=0,-245
		Ownpal=0
		SprPriority=-5
		Scale=.525,.525
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2211, 血]
		type = Explod
		trigger1 = AnimElem = 2
		anim = 2113
		pos = -15, -65
		postype = p1
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 3
		scale = 1,1
		ownpal = 1
		facing = -1

	[State 2211, 血]
		type = Explod
		trigger1 = AnimElem = 2
		anim = 13800
		pos = 0, 5
		postype = back
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 5
		scale = 1,1
		ownpal = 1

	[State 2211, ライフ増減]
		type = TargetLifeAdd
		trigger1 = AnimElemTime(2) = 0
		value = -Ceil(195*fvar(1))
		kill = 1		;不殺
	
	[State 2211, ライフ増減]
		type = Lifeset
		trigger1 = AnimElemTime(2) = 1
		value = 0

	[State 2211, ゲージ増減]
		type = PowerAdd
		trigger1 = AnimElem = 2
		value = 0

	[State 2211, 血音1]
		type = PlaySnd
		trigger1 = AnimElem = 2
		value = 105, 28


	[State 2211, ]
		type = ChangeState
		trigger1 = AnimElemTime(4) = 30
		value =5150
		ctrl = 1

;---------------------------------------------------------------------------
;即死裸エプロン対応(相手)
[Statedef 2215]
type    = S
movetype= H
physics = N
anim = 2215
poweradd = 60
sprpriority = 4


	[State 2210,SE]
		Type=playSnd
		trigger1 = AnimElemTime(3) = 0
		value=110,11
		

	[State -1,カットイン1]
		Type=Explod
		trigger1 = AnimElem = 3
		Anim=7021
		ID=7000
		PosType=right
		Pos=-50,-160
		Ownpal=0
		SprPriority=5
		Scale=.45,.45
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
 		ignorehitpause = 1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2212, 黒血]
		type = Explod
		trigger1 = AnimElem = 5
		trigger2 = AnimElem = 10
		trigger3 = AnimElem = 14
		anim = 2114
		pos = 5, -50
		postype = p2
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 3
		scale = 1.25,1.5
		ownpal = 1
		removeongethit = 1
		facing = -1


	[State 2212, 背景血]
		type = Explod
		trigger1 = AnimElem = 23
		anim = 13820
		pos = 0, 0
		postype = left
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = -3
		ownpal = 1
		scale = .425,.425

	[State 2212, 手前血]
		type = Explod
		trigger1 = AnimElemtime(23) = 15
		anim = 13821
		pos = 60, 0
		postype = left
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		ontop = 1
		scale = 1.2,1.2

	[State 2212, 血音]
		type = PlaySnd
		trigger1 = AnimElemtime(5) = 0
		trigger2 = AnimElemtime(10) = 0
		trigger3 = AnimElemtime(14) = 0
		value = 105, 28
		volume = 0
		channel = -1


	[State 2212, 血音]
		type = PlaySnd
		trigger1 = AnimElemtime(23) = 0
		value = 105, 36
		volume = 0
		channel = -1
		lowpriority = 0
		freqmul = 1
		loop = 0
		pan = 0

	[State 2212, ボイス]
		type = PlaySnd
		trigger1 =  AnimElemtime(17) = 0
		value = 2200, 0
		volume = 255
		channel = 0

	[State 2210,暗転処理白]
		Type=envColor
		trigger1 = AnimElemtime(5) = 0
		trigger2 = AnimElemtime(10) = 0
		trigger3 = AnimElemtime(14) = 0
		value=255,255,255
		Time=80
		under=1

	[State 2210,暗転処理黒]
		Type=envColor
		trigger1 = AnimElem = 17
		value=0,0,0
		Time=180
		under=1

	[State 2210,暗転処理黒]
		Type=envColor
		trigger1 = AnimElemtime(3) = 50
		trigger2 = AnimElemtime(9) = 0
		trigger3 = AnimElemtime(13) = 0
		value=0,0,0
		Time=20
		under=0

	[State 2210,暗転処理黒]
		Type=envColor
		trigger1 =  AnimElemtime(30) = 0
		value=0,0,0
		Time=15
		under=0

	[State 2210,SE]
		Type=playSnd
		trigger1 = AnimElemTime(17) = 0
		value=100,4

	[State 2210,サイズ変更]
		type = AngleDraw
		trigger1 =  AnimElemtime(17) >= 0
		trigger1 =  AnimElemtime(30) < 0
		scale = 1.25,1.25

	[State 2212,]
		Type=posset
		trigger1 = AnimElem = 5
		x = -70*facing
		y = 0

	[State 2212,]
		Type=posset
		trigger1 = AnimElem = 18
		x = 0
		y = 10

	[State 2212,]
		Type=posset
		trigger1 = AnimElem = 31
		y = 0

	[State 2212, 画面揺れ]
		type = EnvShake
		trigger1 = AnimElem = 23
		time = 20
		freq = 90
		ampl = -24
		phase = 0

	[State 2211, ライフ増減]
		type = targetLifeAdd
		trigger1 = AnimElem = 23
		value = -Ceil(195*fvar(1))
		id =2200
		Absolute = 1
		kill = 1	

	[State 2212, 掴んだ相手のステート変更]
		type = TargetState
		trigger1 = target(2200),stateno = 2235
		trigger1 = AnimElem = 4
		trigger2 = AnimElem = 9
		trigger3 = AnimElem = 13
		value = 2280

	[State 2212, 掴んだ相手のステート変更]
		type = TargetState
		trigger1 = AnimElem = 18
		value = 2281

	[State 2212, 掴んだ相手のステート変更]
		type = TargetState
		trigger1 = AnimElem = 23
		value = 2282

	[State 2212, 掴んだ相手のステート変更]
		type = TargetState
		trigger1 = AnimElem = 31
		value = 2283
		
	[State 2212, ]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;投げ待機
[Statedef 2230]
	type    = A
	movetype= H
	physics = N
	velset = 0,0

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2230, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 1320

	[State 2230, 相手ステートに戻す]
		type = SelfState
		trigger1 = !GetHitVar(IsBound) ;（※３）
		value = 5050

;--------------------------------------
[Statedef 2231,吹っ飛ぶ]
	type = A
	movetype = H
	physics = N

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2231]
		type = velSet
		trigger1 = 1
		x = -28

	[State 2231]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,1

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2231]
		type = changeanim
		trigger1 = Time = 0
		value = 5050

	[State 2231]
		type = changestate
		trigger1 = backedgebodydist<=10 || frontedgebodydist<=10
		value = 2232

	[State 2231 エラー用]
		type = selfstate
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value=5100

;--------------------------------------
[Statedef 2232,壁バウンド]
	type = A
	movetype = H
	physics = N

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2232, 画面揺れ]
		type = EnvShake
		trigger1 = Time = 0
		time = 20
		freq = 50
		ampl = -16
		phase = 0

	[State 2232,]
		Type=PlaySnd
		Trigger1=Time=0
		value=F7,2

	[State 2232]
		type = posfreeze
		trigger1 = 1
		x = 1
		y = 1

	[State 2232]
		type = screenbound
		trigger1 = 1
		value =1 
		movecamera = 0,1

	[State 2232]
		type = playerpush
		trigger1 = 1
		value = 1

	[State 2232]
		type = changeanim
		trigger1 = 1
		value = 5000

	[State 2232]
		type=changestate
		trigger1 = time>=4
		value = 2233

;--------------------------------------
[Statedef 2233,壁バウンド落下]
	type = A
	movetype = H
	physics = N

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2233]
		type = veladd
		trigger1 = 1
		y = 0.45

	[State 2233]
		type = velset
		trigger1 = Time = 0
		x = 0
		y = -8

	[State 2233]
		type = changeanim
		trigger1 = Time = 0
		value = ifelse(selfanimexist(5051),5051,5030)

	[State 2233]
		type = changeanim
		trigger1 = anim=5030 && AnimTime = 0
		value = 5050

	[State 2233]
		type = changeanim
		trigger1 = vel y>-3 && anim = 5051
		value = 5061

	[State 2233]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2233]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2233]
		type=changestate
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 2234


;--------------------------------------
[Statedef 2234,壁バウンドダウン]
	type = L
	movetype = H
	physics = N

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2234,]
		Type = Explod
		trigger1 = time = 0
		Anim = F61
		PosType = P1
		Pos = 0, 0
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		ontop = 1
		persistent=0

	[State 2234]
		type = changeanim
		trigger1 = Time = 0
		value = 5110;ifelse(selfanimexist(5051),5051,5030)

	[State 2234]
		type = velset
		trigger1 = Time = 0
		x = 0
		y = 0

	[State 2234]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 2234,10]
		Type=PlaySnd
		Trigger1=Time=0
		value=F7,2

	[State 2234]
		type = EnvShake
		trigger1 = Time = 0
		time = 10
		freq = 60
		ampl = -4
		phase = 0
		persistent = 0

	[State 2234]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2234,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050
	
;--------------------------------------
[Statedef 2235,裸エプロンやられ対応]
type    = S
movetype= H
physics = S
velset = 0,0

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0
		ignorehitpause=1

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2
		ignorehitpause=1

	[State 2235, ]
		type = PosSet
		trigger1 = time = 0
		y = 0

	[State 2235]
		type = changeanim
		trigger1 = Time = 0
		trigger1 = AnimExist(88260) && AnimExist(88261) 
		value = 88260+IfElse(random%3=0, 1, 0)

	[State 2235]
		type = changeanim
		trigger1 = Time = 0
		trigger1 = AnimExist(88260) && !AnimExist(88261) 
		value = 88260

	[State 2235]
		type = changeanim
		trigger1 = Time = 0
		trigger1 = AnimExist(88261)  && !AnimExist(88260) 
		value = 88261

	[State 2235, ]
		type = offSet
		trigger1 = Anim = 88260
		x = 30*facing

	[State 2235]
		type = changeanim
		trigger1 = Time = 0
		trigger1 = !AnimExist(88260) && !AnimExist(88261)
		value = 0

	[State 2235]
		type = changeanim
		trigger1 = Time = 150
		trigger1 = Anim=88260
		value = 0

;	[State 2235, ]
;		type = posadd
;		trigger1 = Time = 151
;		x = 30

	[State 2235]
		type = PalFX
		trigger1 = AnimExist(88260)
		trigger1 = time < 155
		trigger1 = time >= 150 
		time = 1
		add = 255,255,255
		mul =  255,255,255
		sinadd =  255,255,255,10
		invertall = 0
		color = 0

	[State 2235]
		type=selfstate
		trigger1 = AnimExist(88260)
		trigger1 = anim = 0
		trigger1 = time>=155
		value = 0
		ctrl = 1
		
;---------------------------------------------------------------------------
;裸エプロン未対応やられ
[Statedef 2270]
type    = L
movetype= H
physics = N
velset = 0,0

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 2231]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2270, 相手のアニメ変更]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 2270, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 1250

	[State 2270, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 75
		value = 1251

	[State 1250]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=200
		value = 5120

	[State 1250]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 200
		value = 5150

;---------------------------------------------------------------------------
;ブチギレ裸エプロン対応やられ1（上段やられ）
[Statedef 2280]
type    = L
movetype= H
physics = N
velset = 0,0

	[State 2280, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 2280, 押出判定無し]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2280, 位置設定]
		type = posset
		trigger1 = Time = 0
		x = 0
		y = 0

	[State 2280, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 2230

	[State 2280,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050
	
;---------------------------------------------------------------------------
;ブチギレ裸エプロン対応やられ2（首絞め）
[Statedef 2281]
type    = L
movetype= H
physics = N
velset = 0,0

	[State 2281,カメラ]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0


	[State 2281,サイズ変更]
		type = AngleDraw
		trigger1 =  1
		scale = 1.25,1.25
		
	[State 2281, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 2281,押出判定無し]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2281, 位置設定]
		type = posset
		trigger1 = Time = 0
		x = 20*-facing
		y = -122

	[State 2281, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 2232


	[State 2281,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050

;---------------------------------------------------------------------------
;ブチギレ裸エプロン対応やられ3（消滅）
[Statedef 2282]
type    = L
movetype= H
physics = N
velset = 0,0

	[State 2282,カメラ]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2282, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 2282,押出判定無し]
		type = playerpush
		trigger1 = 1
		value = 0

	[State 2282, 位置設定]
		type = posset
		trigger1 = Time = 0
		x = 80*-facing
		y = 0

	[State 2282, 透明]
		type = AssertSpecial
		trigger1 = 1
		flag = invisible

	[State 2281,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050

	[State 2282]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=100
		value = 5120

	[State 2282]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 100
		value = 5150

;---------------------------------------------------------------------------
;ブチギレ裸エプロン対応やられ4（）
[Statedef 2283]
type    = L
movetype= H
physics = N
velset = 0,0


	[State 2282, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 2282, 位置設定]
		type = posset
		trigger1 = Time = 0
		y = 0
		
	[State 2281, 相手のアニメ変更]
		type = ChangeAnim
		trigger1 = Time = 0
		value = 5110

	[State 2282]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=50
		value = 5120

	[State 2282]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 50
		value = 5150

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『弱点を突く』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2300,『弱点を突く』本体]
	type    = S
	movetype= A
	physics = S
	anim = ifelse(!var(23),2300,2302)
	velset = 0,0
	poweradd = -1000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.68
		fvar(1)= 0.68
		persistent = 0
 		ignorehitpause = 1

	[State 2300,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1
		
	[State 2300,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=78
		under=1
		
	[State 2300, EX暗転]
		type = SuperPause
		Trigger1=Time=0
		time = 78
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = 78
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2300,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-45
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7001
		ID=7000
		PosType=Back
		Pos=-35,60
		Ownpal=0
;		Scale=1.2,1.2
		SprPriority=1
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = time = 0
		value = 2300, 0
		channel = 0

	[State 2300,魔眼エフェクト]
		Type=Explod
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = AnimElemTime(7) = 0
		Anim=10230
		ID=6000
		PosType=p1
		Pos=32,-50
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		
	[State 2300,暗転処理]
		type = BGPalFX
		trigger1 = anim = 2300 || anim = 2302
		Trigger1=AnimElemtime(7) >=0
		Trigger1=AnimElemtime(11)<0
		Trigger2 = anim = 2301
		Trigger2=AnimElemtime(6)<40
		time = 1
		add = 256,256,256
		mul = 0,0,0

	[State 2300, SE]
		type = PlaySnd
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = AnimElemTime(7) = 0
		value = 105, 22
		channel = -1

	[State 2300, 押し判定]
		type = NotHitBy
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = AnimElemTime(9) >= 0
		trigger1 = AnimElemTime(11) <  0
		value = ,  AP

	[State 2300, 押し判定]
		type = PlayerPush
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = AnimElemTime(9) >= 0
		trigger1 = AnimElemTime(11) <  0
		value = 0

	[State 2300 速度変更]
		type = VelSet
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = AnimElemTime(9) = 0
		X = 44

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(11) = 0
		value = 11, 6
		channel = 0

	[State 2300,ズザーエフェクト]
		Type=Explod
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(12) = 0
		Anim=10060
		ID=6000
		PosType=p1
		Pos=-10,0
		Ownpal=0
		SprPriority=4
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		bindtime = -1

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(13) = 0
		value = 11, 1
		channel = 0

	[State 2300, SE]
		type = PlaySnd
		triggerAll = anim = 2300
		trigger1 = AnimElemTime(13) = 0
		value = 1,5
		channel = -1

	[State 2300, SE]
		type = PlaySnd
		triggerAll = anim = 2300
		trigger1 = AnimElemTime(13) = 0
		value = 110,8
		channel = -1

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(11) = 0
		X = 12

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(12) = 0
		X = 24

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(19) = 0
		trigger2 = anim = 2302
		trigger2 = AnimElemTime(11) = 0
		X = 15

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(20) = 0
		X = 8

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(21) = 0
		trigger2 = anim = 2302
		trigger2 = AnimElemTime(12) = 0
		X = 4

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2300
		trigger1 = AnimElemTime(22) = 0
		trigger2 = anim = 2302
		trigger2 = AnimElemTime(13) = 0
		X = 0

	[State 2300,ダメージ]
	type = LifeAdd
		trigger1 = anim = 2300
		trigger1 = animelemtime(14)=0
		value = -50
		kill = 0

	[State 2300]
		type = EnvShake
		trigger1 = anim = 2300
		trigger1 = animelemtime(13)=0
		time = 10
		freq = 60
		ampl = -4
		phase = 0
		persistent = 0

	[State 2300, ヒット定義]
		type = HitDef
		triggerAll = anim = 2300 || anim = 2302
		triggerall = hitCount < 1
		triggerall = !moveGuarded && !moveReversed
		trigger1 = AnimElemtime(9) >= 0
		trigger1 = AnimElemtime(11) < 0
		attr = S, HA
		damage = 0, 0
		animtype = Light
		guardflag = MA
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -76
		hitsound = s200, 13
		guardsound = 6, 0
		ground.type = High
		ground.slidetime = 5
		ground.hittime  = 50
		ground.velocity = -0,0
		airguard.velocity = -0,0
		air.type = High
		air.velocity = -0,0
		air.hittime = 12
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2300

	[State 1250, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = NumTarget(2300)
		trigger1 = MoveHit
 		ignorehitpause = 1

	[State 2300, ステート奪取]
		type = TargetState
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = NumTarget(2300)
		trigger1 = MoveHit=1
		ID = 2300
		value = 2350

	[State 2300, anim変更]
		type = Changeanim
		trigger1 = anim = 2300 || anim = 2302
		trigger1 = NumTarget(2300)
		trigger1 = MoveHit=1
		value = 2301

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = anim = 2301
		value = 2300, 1
		channel = 0
		Persistent=0

	[State 2300, ステート奪取]
		type = Targetfacing
		trigger1 = anim = 2301
		value = -1

	[State 2300 速度変更]
		type = posadd
		trigger1 = anim = 2301
		X = 120
		persistent = 0

	[State 2300, 速度変更]
		type = VelSet
		trigger1 = anim = 2301
		trigger1 = animelemtime(3)=0
		X = 0

	[State 2300,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2301
		trigger1 = animelemtime(3)=0
		Anim=10245
		ID=10245
		PosType=back
		Pos=-0,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2300,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2301
		trigger1 = animelemtime(1)=1
		Anim=10246
		ID=10245
		PosType=p2
		Pos=-0,-30
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2300,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2301
		trigger1 = animelemtime(1)=1
		Anim=10247
		ID=10245
		PosType=p2
		Pos=-0,-30
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = anim = 2301
		trigger1 = animelemtime(3)=0
		value = 105, 11
		channel = -1
		volume = 255
		Persistent=0

	[State 2200,]
		type = TargetLifeAdd
		trigger1 = anim = 2301
		trigger1 = animelemtime(3)=0
		value = -Ceil(ifelse(var(2) != 0,240,220)*fvar(1))
		ID = 2300
		kill = 1
		absolute = 1

	[State 2200, ステート開放]
		type = TargetState
		trigger1 = anim = 2301
		trigger1 = animelemtime(6) = 80
		value = 2351

	[State 2200, ステート変更]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = anim = 2301
		trigger2 = anim = 2300
		trigger3 = anim = 2302
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2350,『弱点を突く』相手]
	type    = L
	movetype= H
	physics = N
	ctrl = 0
	sprpriority = 1
	facep2 = 1
	velset = 0,0

	;-------------------------------------------
	[State 2352]
		type = posset
		trigger1 = Time = 0
		y = 0
		
	[State 2352]
		type = NotHitBy
		value = SCA
		trigger1 = 1
	
	[State 2350, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2350, カメラ制御]
		type = AssertSpecial
		trigger1 = 1
		flag = noautoturn

	[State 2350, Anim変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 2310
		
	[State 2350, Anim変更]
		type = Width
		trigger1 = 1
		edge = 32,64

	[State 2350, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2350, ステート変更]
		type = SelfState
		trigger1 = Time = 300
		value = 5110

;------------------------------------------------------------------------------
[Statedef 2351,『弱点を突く』相手落下移行]
	type = A
	movetype = H
	physics = N

	[State 2351]
		type = changeanim
		trigger1 = Time = 0
		value = 5035;ifelse(selfanimexist(5051),5051,5030)

	[State 2351]
		type = changeanim
		trigger1 = Anim = 5035	
		trigger1 = AnimTime = 0
		value = 5160;ifelse(selfanimexist(5051),5051,5030)

	[State 2351]
		type = veladd
		trigger1 = time > 6
		trigger2 = Anim != 5035	
		y = 0.3

	[State 2351]
		type = screenbound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2351]
		type = playerpush
		trigger1 = 1;anim != 5110
		value = 0

	[State 2351]
		type = changestate;anim
		triggerall = Vel Y > 0
		trigger1 = Pos Y >= 0
		value = 2352;5110

	[State 2351,エラー用]
		type = SelfState
		trigger1 = Time >= 100
		value = 5050

;------------------------------------------------------------------------------
[Statedef 2352,『弱点を突く』相手ダウン]
	type = L
	movetype = H
	physics = N
	ctrl = 0
	sprpriority = 1
	velset = 0,0

	[State 2352]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 2352]
		type = changeanim
		trigger1 = Time = 0
		value = 5100;ifelse(selfanimexist(5051),5051,5030)

	[State 2352]
		type = changeanim
		trigger1 = Anim = 5100		
		trigger1 = AnimTime = 0
		value = 5110;ifelse(selfanimexist(5051),5051,5030)

	[State 2352, 共通エフェクト]
		type = Explod
		trigger1 = time = 1
		anim = F61
		ID = 0
		pos = 0, 0
		postype = p1
		removetime = -2
		scale = 1.5, 1.5
		sprpriority = -1

	[State 2352, 共通ダウンSE]
		type = PlaySnd
		trigger1 = time = 1
		value = F7, 2

	[State 2352]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=80
		value = 5120

	[State 2352]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 5
		value = 5110

	[State 235,エラー用]
		type = SelfState
		trigger1 = Time >= 300
		value = 5050

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『魔獣をも殺す刀』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2400,『魔獣をも殺す刀』]
	Type=S

	[State 420,キャンセルフラグ初期化]
		type = Width
		trigger1 = 1
		value = 42,0

	[State 2400, キャンセル初期化]
		type = Varset
		trigger1 = var(1)
		fvar(1) = 0.666
		IgnoreHitPause=1
		Persistent=0

	[State 2400, キャンセル初期化]
		type = Varset
		trigger1 = var(1)
		var(1) = 0
		IgnoreHitPause=1
		Persistent=0

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = time = 0
		value = 2400, 0
		channel = 0
		volume = 255

	[State 2400,『魔獣をも殺す刀』分岐]
		Type=ChangeState
		Trigger1=Time=0
		value=2401 + ifelse(var(23),0,random % 2)

;---------------------------------------------------------------------------
;『魔獣をも殺す刀』成功
;---------------------------------------------------------------------------
[Statedef 2401]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 2400
ctrl = 0
sprpriority = 2
poweradd = -2000

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 2400, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 123

	[State 2210, 汎用リセット]
		type = varset
		trigger1 = Time = 0
		var(20) = 0 
		persistent = 0
 		ignorehitpause = 1

	[State 2400,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=255,255,255
		Time=var(10)
		under=1

	[State 2352]
		type = NotHitBy
		trigger1 = AnimElemtime(12) < 0
		value = SCA

	[State 2400, 時間停止]
		type = SuperPause
		trigger1 = Time = 0
		time = var(10)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(10)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2400,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-65
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7002
		ID=7000
		PosType=Back
		Pos=-32,8
		Ownpal=0
;		Scale=.5,.5
		SprPriority=1
		Scale=.25,.25
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2410, 位置移動]
type = Width
trigger1 = AnimElemtime(10) = 0
trigger2 = AnimElemtime(11) = 0
value = 20,0

	[State 2410, 位置移動]
		type = PosAdd
		trigger1 = AnimElemtime(10) = 0
		trigger2 = AnimElemtime(11) = 0
		x = 20

	[State 2410, ガード不可]
		type = AssertSpecial
		trigger1 = !var(23)
		flag = unguardable

	[State 2501, 画面揺れ]
		type = EnvShake
		trigger1 = AnimElemTime(11) = 0
		time = 10
		freq = 120
		ampl = -40
		phase = 0

[State 6400, 受け止め定義];（※８）
type = ReversalDef
trigger1 = AnimElem = 11
reversal.attr = SCA, AA            ;受け止める相手の攻撃属性を指定
pausetime = 10, 10
numhits       = 0
sparkno       = -1
sparkxy       = 0,0
hitsound      = -1,0
id=2400

[State 10220, 判定発生]
type = Projectile
trigger1 = AnimElemtime(11) = 0
		attr = S, HA
		animtype = hard
		hitflag = MAF
		guardflag = MA
		ground.type = low
		air.type = low
		sparkno = -1
		guard.sparkno = -1
		sparkxy =  -1
		hitsound = S105, 7
		guardsound = -1
		Damage=0,0
		priority = 6, Hit
		getpower = 0, 0
		givepower = 53, 27
		pausetime = 10, 10
		guard.pausetime = 3, 15
		ground.slidetime = 24
		guard.slidetime = 24
		ground.hittime = 24
		guard.hittime = 24
		air.hittime = 24
		ground.velocity = 0
		guard.velocity = -5
		air.velocity = -5
		airguard.velocity = -6.5
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		id = 2400
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
projID = 2402
projanim = 2402
projscale = 1, 1
projremove = 0
projremovetime = 2
velocity = 0,0
remvelocity = 0, 0
accel = 0, 0
velmul = 0, 0
projhits = 1
projmisstime = 1
projpriority = 1
projsprpriority = 1
projedgebound = 20
projstagebound = 20
projheightbound = -240, 1
offset = 0, 0
postype = p1
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

	[State 2210, 相手ステート開放]
		type = varset
		trigger1 = ProjHit = 1
		var(20) = 1 
		persistent = 0
 		ignorehitpause = 1

	[State 2401,割合ダメージ]
		type = TargetVelSet
		trigger1 = NumTarget(2400)
		trigger1 = movehit
		trigger2 = ProjHit = 1
		x = 0
		y = 0
		ID = 2400
		persistent = 0
 		ignorehitpause = 1

	[State 2401,割合ダメージ]
		type = TargetLifeAdd
		trigger1 = NumTarget(2400)
		trigger1 = movehit
		trigger2 = ProjHit = 1
		value = Ceil(-0.266*fvar(1) * enemy,Const(data.life))
		id = 2400
		kill = 0		;不殺
		Absolute = 1	;攻撃力、防御力無視
		persistent = 0
 		ignorehitpause = 1

	[State 2210, 相手心折りステート移行]
		type = TargetState
		trigger1 = NumTarget(2400)
		trigger1 = movehit
		trigger2 = ProjHit = 1
		value = 2410
		id = 2400
		persistent = 0
 		ignorehitpause = 1

	[State -1,斬撃エフェクト]
		Type=Explod
		trigger1 = NumTarget(2400)
		trigger1 = movehit
		trigger2 = ProjHit = 1
		Anim=2415
		ID=2415
		PosType=p2
		Pos=0,-50
		facing = -1
		Ownpal=0
;		Scale=.5,.5
		SprPriority=5
;		Scale=1.25,1.25
		bindtime = 1
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		SuperMoveTime=9999
		PauseMoveTime=9999
		persistent = 0
 		ignorehitpause = 1

	[State -1,負のオーラ]
		Type=Explod
		trigger1 = NumTarget(2400)
		trigger1 = movehit
		trigger2 = ProjHit = 1
		Anim=6571
		ID=6571
		PosType=p2
		Pos=0,-50
		Ownpal=0
;		Scale=.5,.5
		SprPriority=5
;		Scale=1.25,1.25
		bindtime = -1
		OnTop=0
		RemoveTime=-1
		ownpal = 1
		SuperMoveTime=9999
		PauseMoveTime=9999
		persistent = 0
 		ignorehitpause = 1

	[State 2400, 剣召喚音]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 105, 12
		channel = -1

	[State 2400, 剣召喚音]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 105, 31
		channel = -1

	[State 2400, 泥音]
		type = PlaySnd
		trigger1 = animelemtime(2) = 0
		value = 105, 32
		channel = -1

	[State -1,魔獣ループ防止]
		Type= Varset
		trigger1 = movehit
		trigger2 = ProjHit = 1
		var(11)=1
		persistent = 0
 		ignorehitpause = 1

	[State -1,超必殺技カウント]
		Type= Varadd
		trigger1 = movehit
		trigger2 = ProjHit = 1
		var(24)=2
		persistent = 0
 		ignorehitpause = 1

 	[State 1000,攻撃補正]
		Type = VarSet
		triggerall = animelemtime(14) = 0
		trigger1 = movehit
		trigger1 = var(1) := 1
		trigger2 = var(20)
		trigger2 = var(1) := 1
		fvar(0) = fvar(0) * 0.133
		persistent = 0
 		ignorehitpause = 1

	[State 2210, 相手ステート開放]
		type = TargetState
		trigger1 = !var(2)
		trigger1 = animtime = 0
		value = 2411
		persistent = 0
 		ignorehitpause = 1

	[State 2400, ステート変更]
		type = ChangeState
		trigger1 = animtime = 0
		value = 0
		ctrl = 1
		
;---------------------------------------------------------------------------
;『魔獣をも殺す刀』失敗
[Statedef 2402]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 2401
ctrl = 0
sprpriority = 2
poweradd = -2000

	[State 2400, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 123

	[State 2352]
		type = NotHitBy
		trigger1 = AnimElemtime(12) < 0
		value = SCA

	[State 2402,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=255,255,255
		Time=var(10)
		under=1

	[State 2402, 時間停止]
		type = SuperPause
		trigger1 = Time = 0
		time = var(10)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(10)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2402,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-65
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7002
		ID=7000
		PosType=Back
		Pos=-32,8
		Ownpal=0
;		Scale=.5,.5
		SprPriority=1
		Scale=.25,.25
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2410, 位置移動]
		type = PosAdd
		trigger1 = AnimElemtime(10) = 0
		trigger2 = AnimElemtime(11) = 0
		x = 20

	[State 2402, 剣召喚音]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 105, 10
		channel = -1

	[State 2402, 剣召喚音]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 105, 11
		channel = -1

	[State 2402, 泥音]
		type = PlaySnd
		trigger1 = animelemtime(2) = 0
		value = 105, 32
		channel = -1

	[State 2300, ボイス]
		type = PlaySnd
		trigger1 = animelemtime(19) = 0
		value = 2400, 1+random%2
		channel = 0
		volume = 255

	[State 2402, ステート変更]
		type = ChangeState
		trigger1 = animtime = 0
		value = 0
		ctrl = 1
		
;--------------------------------------
[Statedef 2410,心折]
type    = S
movetype= H
physics = S
	velset = 0,0

	[State 2352]
		type = NotHitBy
		trigger1 = time = 0
		value = SCA
		time = 6
 		ignorehitpause = 1

	[State 2410, 5]
		type = PosSet
		trigger1 = time = 0
		y = 0
		
	[State 2410, 5]
		type = Powerset
		trigger1 = time = 0
		value = 0

	[State 2410]
		type = changeanim
		trigger1 = Time = 0
		value = 5300

	[State 2410]
		type=selfstate
		trigger1 = time>=280
		value = 0
		ctrl = 1

;--------------------------------------
[Statedef 2411,心折]
type    = S
movetype= H
physics = S
velset = 0,0

	[State 2410]
		type = changeanim
		trigger1 = Time = 0
		value = 0

	[State 2410]
		type=selfstate
		trigger1 = time>=1
		value = 0
		ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『勇者の剣』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2500]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 2500
ctrl = 0
sprpriority = 2
poweradd = -2000

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.666
		fvar(1)= ifelse(var(24)<1,0.666,ifelse(var(24)<2,0.555,0.444))
		persistent = 0
 		ignorehitpause = 1

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 2500, セット]
		type = Varset
		trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2500, 終了時間セット]
		type = Varset
		trigger1 = Time = 0
		var(0) = 240

	[State 2500, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 168

	[State 2500, 成否判定]
		type = Varset
		trigger1 = Time = 0
		var(20) = random % 2

	[State 2500, 成否判定]
		type = Varset
		trigger1 = Time = 0
		var(30) = 0

	[State 2000, 背景]
		type = BGPalFX
		trigger1 = Time = 0
		time = var(10)
		add = 0,0,0
		mul = 80,60,150
		invertall = 0

	[State 2500, 時間停止]
		type = SuperPause
		trigger1 = Time = 0
		time = var(10)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(10)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2500,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-65
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7002
		ID=7000
		PosType=Back
		Pos=-32,8
		Ownpal=0
		SprPriority=1
		Scale=.25,.25
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2900, 防御距離]
		type = Width
		trigger1 = 1
		edge = 86,32

	[State 2500, 水面]
		type = Explod
		trigger1 = anim = 2500
		trigger1 = animelemtime(1) = 10
		anim = 2512
		ID = 2510
		pos = 30, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = var(10)
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1
		removeongethit = 1

	[State 2500, 勇者の剣]
		type = Explod
		trigger1 = anim = 2500
		trigger1 = animelemtime(1) = 15
		anim = 2510
		ID = 2510
		pos = 30, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = var(10)
		pausemovetime = 0
		sprpriority = 3
		ownpal = 1
		removeongethit = 1

	[State 2000, 背景]
		type = BGPalFX
		trigger1 = numexplod(6215)
		time = 1
		add = 255,255,255
		mul = 0,0,0
		invertall = 0


	[State 2500, ]
		type = PosAdd
		triggerAll = anim = 2500
		trigger1 = animelemtime(17) = 0
		trigger2 = animelemtime(19) = 0
		x = 15

	[State 2500, エアエフェクト]
		type = Explod
		trigger1 = anim = 2500
		trigger1 = animelemtime(22) = 0
		anim = 2514
		ID = 2514
		pos = 30, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 1.5,1.5
		sprpriority = 3
		ownpal = 1
		removeongethit = 1

	[State 2410, ヒット定義]
		type = HitDef
		triggerall = anim = 2500
		triggerall = hitCount < 6
		trigger1 = !moveGuarded && !moveReversed
		attr = S, HA
		animtype = hard
		hitflag = MAF
		guardflag = MA
		ground.type = low
		air.type = low
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0, floor((ceil(enemyNear, pos Y) - 10) * const(size.yscale))
		hitsound = S105, 3
		guardsound = S105, 4
		Damage=13,4
		priority = 6, Hit
		getpower = 0, 0
		givepower = 53, 27
		pausetime = 0, 0
		guard.pausetime = 3, 15
		ground.slidetime = 24
		guard.slidetime = 24
		ground.hittime = 24
		guard.hittime = 24
		air.hittime = 24
		ground.velocity = -8
		guard.velocity = -5
		air.velocity = -8,-.5
		airguard.velocity = -6.5, -2.5
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recover = 0
		Yaccel=0.45
		id = 2410

	[State 2000,位置固定]
		type = TargetBind
		trigger1 = hitCount < 6
		trigger1 = !moveGuarded && !moveReversed
		trigger1 = movehit
		trigger1 = numexplod(6215)
		time = 1
		ID = 2410
		pos = 60,-5

	[State 2500, 剣召喚音]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(1) = 10
		value = 105, 13
		channel = -1

	[State 2500, 泥音]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(9) = 0
		value = 105, 32
		channel = -1

	[State 2500, エア音]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(20) = 0
		value = 105, 14
		channel = -1

	[State 2500, 螺旋エフェクト]
		type = Explod
		trigger1 = anim = 2500
		trigger1 = animelemtime(20) = 0
		anim = 6215
		ID = 6215
		pos = 75, -70
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 1.5,1.5
		sprpriority = 5
		ownpal = 1
		removeongethit = 1
		RemoveTime=30

	[State 2500, エア音]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(22) = 0
		value = 105, 15
		channel = -1

	[State 2500, 剣放り投げSE]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = time = var(0)-1
		value = 100,3
		channel = -1

	[State 2500, グッドルーザー球磨川もヨロシク！]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(1) = 1
		value = 2500, 1
		channel = 0

	[State 2500, 笑い声]
		type = PlaySnd
		trigger1 = anim = 2500
		trigger1 = animelemtime(22) = 0
		value = 2500, 0
		channel = 0

	[State 2500, エア攻撃判定]
		type = Helper
		trigger1 = anim = 2500
		trigger1 = animelemtime(22) = 0
		stateno = 2515;出現するヘルパーのステートです。
		ID = 2515;ヘルパーのIDです
		postype = p1;ヘルパーが出現する座標軸です
		pos = 30,0;ヘルパーが出現する座標です。
		helpertype = normal;ヘルパーの種類を設定します。
		name = "ea";出現させるヘルパーの名前です。
		keyctrl = 0;キーの制御を受け付けるかどうかです。
		ownpal = 1

	[State 2500, 勇者の剣消し]
		type = RemoveExplod
		trigger1 = anim = 2500
		trigger1 = animelemtime(3) = 0;
		ID = 2510


	[State 2600,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = movehit
		trigger2 = helper(2515),movehit
		fvar(0)=fvar(0)*0.5
		IgnoreHitPause=1
		Persistent=0

	[State 2000, アニメ変更]
		type = Changeanim
		trigger1 = time = 210
		value = 2503

	[State 2000, ステート変更]
		type = ChangeState
		trigger1 = !var(23)
		trigger1 = time = var(0)
		value = 2501 + ifelse(RoundState = 2,var(20),0)

	[State 2000, アニメ変更]
		type = Changeanim
		trigger1 = var(23)
		trigger1 = time = var(0)
		value = 2504

	[State 2501, 剣消滅]
		type = Explod
		trigger1 = anim = 2504
		trigger1 = animelemtime(2) = 0
		anim = 6235
		ID = 6235
		pos = 65, -62
		postype = p1
		bindtime = 10
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		sprpriority = 5
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State 2000, ステート変更]
		type = ChangeState
		trigger1 = anim = 2504
		trigger1 = animtime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;勇者の剣成功
[Statedef 2501]
type    = A
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 2501
ctrl = 0
sprpriority = 2

	[State 25010,押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 25010,vel]
		type = velset
		Trigger1=AnimElemtime(1)=0
		x=-12

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(4)=0
		x=-8

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(7)=0
		x=-4

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(8)=0
		x=0

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(6) = 0
		y=0

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(7) = 0
		y=3.2

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(8) = 0
		y=0

	[State 2501, 幅]
		type = Width
		trigger1 = 1
		trigger1 = AnimElemTime(7) = 0
		edge = 20,20

	[State 2501, 勇者の剣]
		type = Explod
		trigger1 = animelemtime(1) = 0
		anim = 2511
		ID = 2511
		pos = 0, -150
		postype = p1
		bindtime = -1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1

	[State 2501, 剣消滅]
		type = Explod
		trigger1 = animelemtime(7) = 0
		anim = 6230
		ID = 6230
		pos = -1, -0
		postype = p1
		bindtime = 1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 5
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State 2501, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElemTime(7) = 9
		value = 105, 29
		volume = 255

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(16) = 0
		statetype = L

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(18) = 0
		statetype = A
		movetype = I

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(22) = 0
		statetype = S

	[State 2200, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;勇者の剣失敗
[Statedef 2502]
type    = A
movetype= H
physics = N
juggle  = 4
velset = 0,0
anim = 2502
ctrl = 0
sprpriority = 2

	[State 25010,押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 25010,vel]
		type = velset
		Trigger1=AnimElemtime(1)=0
		x=-12

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(4)=0
		x=-8

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(7)=0
		x=-4

	[State 2501,vel]
		type = velset
		Trigger1=AnimElemtime(8)=0
		x=0

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(6) = 0
		y=0

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(7) = 0
		y=3.2

	[State 2501, 位置変更]
		type = Posset
		trigger1 =animelemtime(8) = 0
		y=0

	[State 2501, 幅]
		type = Width
		trigger1 = 1
		trigger1 = AnimElemTime(7) = 0
		edge = 20,20

	[State 2501, 勇者の剣]
		type = Explod
		trigger1 = animelemtime(1) = 0
		anim = 2511
		ID = 2511
		pos = 0, -150
		postype = p1
		bindtime = -1
		random = 0, 0
		vel = 0, 0
		accel = 0, 0
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 1
		ownpal = 1
		removeongethit = 1

	[State 2501, 画面揺れ]
		type = EnvShake
		trigger1 = AnimElemTime(7) = 0
		time = 10
		freq = 120
		ampl = -40
		phase = 0

	[State 2501, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElemTime(7) = 3
		value = 11, 3
		volume = 0
		channel = 0
		freqmul = 1

	[State 2501, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElemTime(7) = 0
		value = 105, 7
		volume = 0
		channel = -1
		freqmul = 1

	[State 2501, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElemTime(7) = 3
		value = 105, 28
		volume = 0
		channel = -1
		freqmul = 1

	[State 2501, 串刺し音]
		type = PlaySnd
		trigger1 = AnimElemTime(7) = 3
		value = 105, 27
		volume = 0
		channel = -1
		freqmul = 1

	[State 2501, 血]
		type = Explod
		trigger1 = animelemtime(7) = 0
		anim = 2113
		ID = 2113
		pos = -10, -35
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 60
		pausemovetime = 0
		sprpriority = 3
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State 1201, 血]
		type = Explod
		trigger1 = AnimElemtime(7) = 0
		anim = 2113
		pos = 10, -35
		postype = p1
		bindtime = 1
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = 3
		scale = 1.25,1.5
		ownpal = 1
		;removeongethit = 1
		facing = -1

	[State 2501, damage]
		type = Lifeadd
		trigger1 = animelemtime(7) = 0
		trigger1 = var(42) := 2
		value = -var(0)
;		kill = ifelse((var(14)>var(17) && var(13) && Power>999),0,1)

	[State 5110, リザレクション移行] 
		type = ChangeState
		trigger1 = animelemtime(9) = 30
		trigger1 = var(21)
		value = 6660

	[State 2501, 剣消滅]
		type = Explod
		trigger1 = animelemtime(7) = 0
		anim = 6232
		ID = 6232
		pos = 0, -0
		postype = p1
		bindtime = 10
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		sprpriority = -5
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State 2501, 剣消滅]
		type = RemoveExplod
		trigger1 = animelemtime(10) = 0
		ID = 6232

	[State 2501, 剣消滅]
		type = Explod
		trigger1 = animelemtime(10) = 0
		anim = 6231
		ID = 6231
		pos = -1, -0
		postype = p1
		bindtime = 1
		random = 0, 0
		supermovetime = 60
		pausemovetime = 0
		sprpriority = -3
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State -2, ステート変更]
		type = AssertSpecial
		trigger1 = animelemtime(7) = 0
		flag = nokosnd

	[State 2501, damage]
		type = VarRandom
		trigger1 = time = 0
		v = 0
		range = 100,600

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(16) = 0
		statetype = L

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(18) = 0
		statetype = A
		movetype = I

	[State 2501, ]
		type = StateTypeSet
		trigger1 = animelemtime(22) = 0
		statetype = S

	[State 2200, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;エア攻撃判定
[Statedef 2515]
type = A ;
movetype= A ;
velset = 0,0
anim = 2515 ;
sprpriority = 10

	[State 2515, 3]
		type = HitDef
		trigger1 = AnimElemTime(1) = 0
		trigger2 = animElemTime(2) = 0
		trigger3 = AnimElemTime(3) = 0
		trigger4 = animElemTime(4) = 0
		trigger5 = AnimElemTime(5) = 0
		trigger6 = AnimElemTime(6) = 0
		trigger7 = animElemTime(7) = 0
		trigger8 = AnimElemTime(8) = 0
		trigger9 = animElemTime(9) = 0
		trigger10 = AnimElemTime(10) = 0
		trigger11 = AnimElemTime(11) = 0
		trigger12 = animElemTime(12) = 0
		trigger13 = AnimElemTime(13) = 0
		attr = S, HP 
		damage = Ceil(ifelse(root,var(2) != 0,45,34)*root,fvar(1)),4
		getpower = 0,0
		animtype = Hard
		pausetime = 0,0
		guardflag = MA
		priority = 3
		sparkno = -1
		sparkxy = 0,-50
		guard.sparkno = S10000
		hitsound = -1
		guardsound = 6,0
		ground.type = High
		ground.slidetime = 14
		ground.hittime = 16
		ground.velocity = -6,-3
		air.velocity = -12,-5.5
		ground.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		down.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		envshake.time = 8
		envshake.ampl = 6
		envshake.freq = 100
		fall = 1
		fall.recover = 0
		Yaccel=0.4
		id = 2410

	[State 2515, 7]
		type = DestroySelf
		trigger1 = animtime= 0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『蛮勇の刀』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2550]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 2505
ctrl = 0
sprpriority = 2
poweradd = -2000

[State -2, 発動スロー処理]
type = Pause
trigger1 = gametime%5<2
trigger1 = animelemTime(6) < 0
time = 2
movetime = 2

	[State 2900, 防御距離]
type = Width
trigger1 = 1
value = 32,32


	[State 2501, 剣消滅]
		type = Explod
		trigger1 = animelemtime(2) = 0
		anim = 6235
		ID = 6235
		pos = 65, -62
		postype = p1
		bindtime = 10
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		sprpriority = 5
		ownpal = 1
		removetime = -2
		;removeongethit = 1

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=1.00
		fvar(1)= ifelse(var(24)<1,1.00,ifelse(var(24)<2,0.888,0.666))
		persistent = 0
 		ignorehitpause = 1

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 2000, 背景]
		type = BGPalFX
		trigger1 = animelemTime(6) = 0
		time = 137
		add = 255,255,255
		mul = 0,0,0
		invertall = 0

	[State 2500, 時間停止]
		type = SuperPause
		trigger1 = animelemTime(6) = 0
		time = 137
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = 137
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2500,超必殺エフェクト]
		Type=Explod
		trigger1 = animelemTime(6) = 0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-0,-65
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9998
		PauseMoveTime=9998

	[State -1,カットイン1]
		Type=Explod
		trigger1 = animelemTime(6) = 0
		Anim=7009
		ID=7009
		PosType=Back
		Pos=-30,-10
		Ownpal=0
		SprPriority=1
		Scale=.25,.25
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2500, SE]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 0, 0
		channel = -1

	[State 2500, SE]
		type = PlaySnd
		trigger1 = animelemtime(11) = 0
		value = 110, 9
		channel = -1
		volume = 255

	[State 2500, ボイス]
		type = PlaySnd
		trigger1 = animelemTime(6) = 0
		value = 20, 13
		channel = 0
		volume = 255
	
[State 2000,刀出現エフェクト]
Type=Explod
trigger1 = animelemTime(6) = 40
Anim=6250
ID=6000
PosType=p1
Pos=-30,0
Ownpal=0
SprPriority=5
OnTop=0
RemoveTime=-2
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9999
PauseMoveTime=9999

	[State 2500, SE]
		type = PlaySnd
		trigger1 = animelemTime(6) = 40
		value = 105, 10
		channel = -1
		volume = 255

[State 107, 1]
type = posadd
trigger1 = animelemTime(13) = 0
x = 35

[State 2000,斬撃エフェクト]
Type=Explod
trigger1 = animelemTime(14) = 0
Anim=6270
ID=6000
PosType=back
Pos=0,0
Ownpal=0
SprPriority=5
OnTop=0
RemoveTime=-2
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9999
PauseMoveTime=9999
;scale = 1.5,1.5

	[State 2515, 3]
		type = HitDef
		trigger1 = !moveGuarded && !moveReversed
		attr = S, HP 
		damage = Ceil(ifelse(var(2) != 0,40,29)*fvar(1)),4
		getpower = 0,0
		animtype = Hard
		pausetime = 2,15
		guardflag = MA
		priority = 3
		sparkno = -1
		sparkxy = 0,-50
		guard.sparkno = S10000
		hitsound = S110,0
		guardsound = 6,0
		ground.type = High
		ground.slidetime = 14
		ground.hittime = 16
		ground.velocity = -0,0
		air.velocity = -0,0
		ground.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		down.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		envshake.time = 8
		envshake.ampl = 6
		envshake.freq = 100
		fall = 1
		fall.recover = 0
		Yaccel=0.45
		id = 2410

[State 2000,刀消滅エフェクト]
Type=Explod
trigger1 = animelemTime(18) = 0
Anim=6260
ID=6000
PosType=p1
Pos=0,0
Ownpal=0
SprPriority=5
OnTop=0
RemoveTime=-2
IgnoreHitPause=1
Persistent=0
SuperMoveTime=9999
PauseMoveTime=9999
;scale = 1.5,1.5

	[State 2000, ステート変更]
		type = ChangeState
		trigger1 = animtime = 0
		value = 0
		ctrl = 1
		
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『It's』『All Fiction!!』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2600,『It's』『All Fiction!!』]
type    = S
movetype= A
physics = S
anim = ifelse(!var(23),2600,2601)
velset = 0,0
poweradd = -2000
;juggle  = 1
ctrl = 0
sprpriority = 2
facep2 = 1

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.555
		fvar(1)= ifelse(var(24)<1,0.555,ifelse(var(24)<2,0.444,0.333))
;		fvar(1)= ifelse(!var(24),0.555,(0.444/(var(24))))
		persistent = 0
 		ignorehitpause = 1

	[State 2600, ボイス]
		type = PlaySnd
		Trigger1 = Time = 0
		value = 2600, 0
		channel = 0

	[State 2600,停止時間セット]
		Type = VarSet
		Trigger1 = Time = 0
		var(0) = 117

	[State 2600,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2600, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = Anim = 2600
		trigger1 = AnimElemTime(1) >= 0
		trigger1 = AnimElemTime(8) < 20
		trigger2 = Anim = 2601
		trigger2 = AnimElemTime(1) >= 0
		trigger2 = AnimElemTime(9) < 0
		time = 1

	[State 2600,炎エフェクト]
		type = varSet
		trigger1 = time = 0
		var(10) = life

	[State 2600,押せない]
		type = PlayerPush
		trigger1 = 1
		value = 0
		
;-----------------------------------暗転演出------------------------------------
	[State 2600,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=var(0)
		under=1

	[State 2600, EX暗転]
		type = SuperPause
		trigger1 = AnimElemTime(1) = 0
		time = var(0)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(0)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2600,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-20,-115
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7002
		ID=7000
		PosType=Back
		Pos=-32,8
		Ownpal=0
		SprPriority=1
		Scale=.25,.25
		OnTop=0
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1
;-----------------------------------暗転演出------------------------------------
	[State 2600, 粉塵爆発]
		type = Helper
		trigger1 = AnimElemtime(6) = 4
		ID = 2610
		pos = 0,0
		postype = p1
		stateno = 2610
		helpertype = normal
		name = "dust explosion"
		keyctrl = 0
		ownpal = 1

	[State 2600, ボイス]
		type = PlaySnd
		trigger1 = AnimElemtime(6) = 4
		value = 2600, 1
		channel = 0

	[State 2600, 粉塵爆発]
		type = LifeAdd
		trigger1 = Anim = 2600
		trigger1 = AnimElemtime(6) = 4
		value = -300
		kill = 0
		absolute = 1

 	[State 2600, 地面を揺らす]
		type = EnvShake
		trigger1 = AnimElemtime(6) = 4
		time = 5
		freq = 120
		ampl = -8
		phase = 0

	[State 2600,炎エフェクト]
		type = PalFX
		trigger1 = AnimElemtime(7) < 5
		trigger1 = AnimElemtime(7) >= 0 
		time = 1
		add = 255,255,255
		mul =  255,255,255

	[State 2600,炎エフェクト]
		type = PalFX
		trigger1 = Anim = 2600
		trigger1 = AnimElemtime(8) < 85
		trigger1 = AnimElemtime(8) >= 0
		trigger2 = Anim = 2601
		trigger2 = AnimElemtime(8) < 42
		trigger2 = AnimElemtime(8) >= 0 
		time = 1
		add = 30,30,30
		mul = 168,50,20

	[State 2600,炎エフェクト]
		type = PalFX
		trigger1 = Anim = 2600
		trigger1 = AnimElemtime(8) < 95
		trigger1 = AnimElemtime(8) >= 85
		trigger2 = Anim = 2601
		trigger2 = AnimElemtime(8) < 55
		trigger2 = AnimElemtime(8) >= 42 
		time = 1
		add = 255,255,255
		mul =  255,255,255

	[State 2600, ボイス]
		type = PlaySnd
		trigger1 = AnimElemtime(9) = 0 
		value = 2900, 1
		channel = 0
		volume = 255

	[State 2600, SE]
		type = PlaySnd
		trigger1 = AnimElemtime(9) = 0 
		value = 105, 31
		channel = -1
		
	[State 2600,体力回復]
		type = LifeSet
		trigger1 = Anim = 2600
		trigger1 = AnimElemtime(9) = 0 
		value = var(10)

  	[State 2600,炎エフェクト]
 		Type = Explod
		trigger1 = AnimElemtime(7) = 0
 		Anim = 10530
 		PosType = p1
 		Pos = 0,10
        BindTime = 1
 		RemoveTime = -2
 		Ownpal = 1
 		Scale = 1,1
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 10530
 		removeongethit = 0
 		persistent=0

  	[State 2600,炎エフェクト]
 		Type = Explod
		trigger1 = AnimElemtime(8) = 0
 		Anim = 10532
 		PosType = p1
 		Pos = 10,-20
        BindTime = -1
 		RemoveTime = 120
 		Ownpal = 1
 		Scale = 1,1
 		IgnoreHitPause = 1
 		SuperMoveTime = 99999
 		PauseMoveTime = 99999
 		SprPriority = 3
 		ID = 10532
 		removeongethit = 0
 		persistent=0

	[State 2600,炎エフェクトを消す]
		type = RemoveExplod
		trigger1 = Anim = 2600
		trigger1 = AnimElemtime(8) = 85
		ID = 10532

	[State 2600,炎エフェクトを消す]
		type = RemoveExplod
		trigger1 = Anim = 2601
		trigger1 = AnimElemtime(8) = 35
		ID = 10532

	[State -1,超必殺技カウント]
		Type= Varadd
		Trigger1 = Projhit(2610) = 1
		var(24)=2
		persistent = 0
 		ignorehitpause = 1


 	[State 1000,攻撃補正]
		Type = VarSet
		Trigger1 = Projhit(2610) = 1
		fvar(0) = fvar(0) * 0.35
		persistent = 0
 		ignorehitpause = 1

	[State 1000,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = Anim = 2600
		Trigger1 = Projhit(2610) != 0
		trigger1 = AnimElemtime(8) > 10
		var(1) = 1
 		persistent=0

	[State 1000,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = Anim = 2600
		Trigger1 = var(1) = 1
		trigger1 = AnimElemtime(8) = 85
		var(1) = 0

	[State 1000,キャンセルフラグ設定]
		Type = VarSet
		trigger1 = Anim = 2601
		Trigger1 = Projhit(2610) != 0
		trigger1 = AnimElemtime(9) > 3
		var(1) = 1
 		persistent=0

	[State 2600, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1
		
;---------------------------------------------------------------------------
[Statedef 2610,粉塵爆発ヘルパー]
type = A ;
movetype= A ;
velset = 0,0
anim =  2610;
sprpriority = -1

	[State 2610, 影なし]
		type = AssertSpecial
		trigger1 = 1
		flag = Noshadow

	[State 2610, SE 爆発音]
		type = PlaySnd
		trigger1 = time = 0
		trigger2 = time = 2
		trigger3 = time = 6
		value = 105, 30
		channel = 1

	[State 2610, 判定発生]
		type = Projectile
		trigger1 = AnimElemtime(1) = 0
		trigger1 = !moveGuarded && !moveReversed
		attr = S, HA
		damage = Ceil(ifelse(root,var(2) != 0,40,30)*root,fvar(1)),2
		getpower = 0
		animtype = up
		pausetime = 0,2
		guardflag = MA
		hitflag = MAF
;		affectteam = B
		priority = 2
		sparkno = -1
		guard.sparkno =S10000
		sparkxy = 20,-45
		hitsound = -1;S200,1
		guardsound = -1;S200,1
		ground.type = Low
		ground.slidetime = 25
		ground.hittime  = 25
		ground.velocity = -1,-7.5
		air.velocity = ifelse(animelemtime(5)<=0,-18,-10),ifelse(animelemtime(5)<=0,-12,-10)
		getpower = 0
		fall = 1
		fall.recover = 0
		;P2StateNo =7010
		yaccel = .425
		id=2610
		;燃焼-------------------------------------------------------------------
		palfx.time = 120
		palfx.mul = 168,50,20
		palfx.add = 30,30,30
		;-----------------------------------------------------------------------

		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		projID = 2610
		projanim = 2610
		projscale = 1, 1
		projremove = 1
		projremovetime = 12
		velocity = 0,0
		remvelocity = 0, 0
		accel = 0, 0
		velmul = 0, 0
		projhits = 12
		projmisstime = 0
		projpriority = 1
		projsprpriority = 1
		projedgebound = 20
		projstagebound = 20
		projheightbound = -240, 1
		offset = 0, 0
		postype = p1
		;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

	[State 2610,爆発エフェクト]
		Type=Explod
		trigger1 = time = 0
		Anim=10550
		PosType=p1
		Pos=-0,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		;Scale = .5,.5
		bindtime = -1
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト0]
		Type=Explod
		trigger1 = time = 3
		Anim=10541
		PosType=p1
		Pos=-20,-105
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト1]
		Type=Explod
		trigger1 = time = 3
		Anim=10541
		PosType=p1
		Pos=-125,-100
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8
		
	[State 2610,爆発エフェクト2]
		Type=Explod
		trigger1 = time = 3
		Anim=10541
		ID=10510
		PosType=p1
		Pos=100,-100
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト3]
		Type=Explod
		trigger1 = time = 3
		Anim=10541
		ID=10510
		PosType=p1
		Pos=150,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト4]
		Type=Explod
		trigger1 = time = 3
		Anim=10542
		PosType=p1
		Pos=-80,-20
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト5]
		Type=Explod
		trigger1 = time = 3
		Anim=10542
		PosType=p1
		Pos=100,-25
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト6]
		Type=Explod
		trigger1 = time = 3
		Anim=10542
		PosType=p1
		Pos=80,-50
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト7]
		Type=Explod
		trigger1 = time = 3
		Anim=10540
		PosType=p1
		Pos=-0,-0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610,爆発エフェクト8]
		Type=Explod
		trigger1 = time = 3
		Anim=10540
		PosType=p1
		Pos=100,-20
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 2610, 消滅移行]
		type = DestroySelf
		trigger1 = var(5)=0
		trigger1 = animtime=0

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『却本作り』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2700,『却本作り』]
	type    = S
	movetype= A
	physics = S
	anim = 2700
	velset = 0,0
	poweradd = -3000
;	juggle  = 1
	ctrl = 0
	sprpriority = 2
	facep2 = 1

	[State 2700, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		trigger1 = var(16) := 1
		var(0) = 140

	[State 2700, リセット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 0

	[State 2700,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2700, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = time = 0
		time = 200

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300
;-----------------------------------暗転演出------------------------------------
	[State 2700,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=var(0)
		under=1

	[State 2700, EX暗転]
		type = SuperPause
		trigger1 = Time = 0
		time = var(0)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(0)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2700,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=25,-75
		Ownpal=0
		SprPriority=3
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7003
		ID=7003
		PosType=Back
		Pos=20,-0
		Ownpal=0
		Scale=.25,.25
		SprPriority=1
		OnTop=0
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1
;-----------------------------------暗転演出------------------------------------

		[State 2700, ドリル音]
		type = PlaySnd
		trigger1 = anim = 2700
		trigger1 = animelemtime(2) = 0
		value = 105, 6
		channel = -1

		[State 2700, ドリル音]
		type = PlaySnd
		trigger1 = anim = 2700
		trigger1 = animelemtime(2) = 0
		value = 105, 14
		channel = -1

		[State 2500, 却本作り・・・]
		type = PlaySnd
		trigger1 = anim = 2700
		trigger1 = animelemtime(1) = 0
		value = 2700, 0
		channel = 0

		[State 2700, 発射螺子];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
		type = Projectile
		trigger1 = anim = 2700
		trigger1 = AnimElemtime(29) = 0
		attr = S, HP ;立ち必殺飛び道具（Standing, Special Projectile）
		damage = 9999,9999 ;Var(5)をここなどに代入すれば活かされる
		getpower = 0,0
		givepower = -99999,-99999
		animtype = Hard
		pausetime = 1,12
		;-----------------------------------Projectile専用のパラメータ
		offset = 10, -60                ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
		velocity = 13,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
		accel = 6,0                  ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
		projID = 2700                  ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
		projanim = 2701                ;飛び道具のアニメ（アクションナンバー）
		projhitanim = 2701             ;飛び道具がヒットした時のアニメ（アクションナンバー）
		projremanim = -1               ;飛び道具が消える時のアニメ（アクションナンバー）
		projscale = 1,1                ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在２倍
		projshadow = 255,255,255       ;飛び道具の影の色合い（赤,緑,青）※現在影無し
		projhits = 1                   ;飛び道具のヒット数（２以上なら多段ヒットになる）
		projmisstime = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
		projpriority = -1              ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
		projremove = 1				   ;飛び道具の消える可否
		projremovetime = -1            ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
		projedgebound =200
		;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
		guardflag = -1
		priority = 3
		sparkno = -1
		sparkxy = 0,0
		guard.sparkno = -1
		hitsound = S105,12
		guardsound = -1
		ground.type = High
		ground.slidetime = 14
		ground.hittime = 16
		ground.velocity = -6,0
		air.velocity = -3,-4
		envshake.time = 8
		envshake.ampl = 6
		envshake.freq = 100
		id=2700
		HitOnce = 1
		kill = 0
		p2facing = 1

		[State 2700, ドリル音]
		type = PlaySnd
		trigger1 = anim = 2700
		trigger1 = AnimElemtime(29) = 0
		value = 105, 6
		channel = -1

		[State 2700, 螺旋音]
		type = PlaySnd
		trigger1 = anim = 2700
		trigger1 = AnimElemtime(29) = 0
		value = 105, 10
		channel = -1

		[State 2700, 螺旋エフェクト]
		type = Explod
		trigger1 = anim = 2700
		trigger1 = AnimElemtime(29) = 0
		anim = 6215
		ID = 6215
		pos = 10, -60
		vel = 13, 0
		accel = 6, 0
		postype = p1
		bindtime = 1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		;scale = 1.5,1.5
		sprpriority = 5
		ownpal = 1
		RemoveTime=30

	[State 2700, 相手ステート移行]
		type = TargetState
		trigger1 = NumTarget(2700)
		trigger1 = ProjHitTime(2700) = 1
		trigger1 = var(10) := 1
		value = 2715
		persistent=0

	[State 2700,体力セット]
		type = varset
		trigger1 = var(10)
		var(20) = target(2700),Const(data.life)

	[State 2700,体力1にする]
		type = TargetLifeAdd
		trigger1 = var(10)
		value = -var(20)
		kill = 0
		Absolute = 0

	[State 2700,体力同期]
		type = TargetLifeAdd
		trigger1 = var(10)
		value = life -1
		kill = 0
		Absolute = 0

	[State 2700,ゲージ同期]
		type = Powerset
		trigger1 = var(10)
		trigger1 = !var(23)
		value = 0

	[State 2700, 螺旋エフェクト]
		type = RemoveExplod
		trigger1 = ProjContactTime(2700) = 1 
		ID = 6215

	[State 2700, anime変更]
		type = ChangeAnim
		trigger1 = anim = 2700
		trigger1 = animelemtime(35) > 3
		trigger1 = var(10)
		value = 2705

	[State 2700, anime変更]
		type = AssertSpecial
		trigger1 = var(10)
		flag = nobardisplay
		flag2 = nomusic
		flag3 = timerfreeze

	[State 2700, 脚本螺子エフェクト前]
		type = Explod
		trigger1 = NumTarget(2700)
		trigger1 = target,stateno = 2715
		anim = 2702
		ID = 2702
		pos = 0, -65
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = 5
		ownpal = 1
		RemoveTime=-1
		facing = -1
		persistent=0

	[State 2700,  脚本螺子エフェクト奥]
		type = Explod
		trigger1 = NumTarget(2700)
		trigger1 = target,stateno = 2715
		anim = 2703
		ID = 2702
		pos = 0, -65
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = -5
		ownpal = 1
		RemoveTime=-1
		facing = -1
		persistent=0

	[State 2700, 却本作り・・・]
		type = PlaySnd
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 0
		value = 2700, 1
		channel = 0

	[State 2700,位置セット]
		type = varset
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 175
		trigger1 = enemy(0),stateno = 2715
		var(30) = abs(enemy(0),pos x- pos x)

	[State 2700,位置セット]
		type = varset
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 175
		trigger1 = enemy(1),stateno = 2715
		var(30) = abs(enemy(1),pos x- pos x)

	[State 2700,  白]
		type = Explod
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 175
		anim = 11664
		ID = 11664
		pos = var(30), -65
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 2,2
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0
		ontop = 1

	[State 2700,  脚本螺子エフェクト消し]
		type = RemoveExplod
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 180
		ID = 2702

	[State 2700, 螺旋音]
		type = PlaySnd
		trigger1 = anim = 2705
		trigger1 = animelemtime(5) = 175
		value = 105, 16
		channel = -1

;	[State 2210, 相手ふっとびステート移行]
;		type = TargetState
;		trigger1 = anim = 2705
;		trigger1 = animelemtime(5) = 180
;		trigger1 = target(2700),stateno = 2715
;		value = 2716

	[State 2700, ステート変更]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = anim = 2700
		trigger2 = anim = 2705
		value = 0
		ctrl = 1

;--------------------------------------
[Statedef 2715,却本やられ]
type    = S
movetype= I
physics = S
velset = -26,0

	[State 2716, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0
		
	[State 2716, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	[State 2715, 5]
		type = PosSet
		trigger1 = time = 0
		y = 0
		
	[State 2715, 5]
		type = Powerset
		trigger1 = time = 0
		value = 0

	[State 2715]
		type = velset
		trigger1 = Time = 3
		x = 0

	[State 2715]
		type = MakeDust
		trigger1 = Time < 4
		pos = 5 , 2

	[State 2715]
		type = changeanim2
		trigger1 = Time = 0
		value = 2715

	[State 2715]
		type=changestate
		trigger1 = time>=250
		value = 2716

;--------------------------------------
[Statedef 2716,却本やられ開放]
type    = S
movetype= I
physics = S

	[State 2716, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0
		
	[State 2716, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	[State 2716, 5]
		type = PosSet
		trigger1 = time = 0
		y = 0
		
	[State 2716, 5]
		type = Powerset
		trigger1 = time = 0
		value = 0

	[State 2716]
		type = changeanim
		trigger1 = Time = 0
		value = 0

	[State 2716]
		type=selfstate
		trigger1 = time>=30
		value = 0
		ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『格好』付けずに
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2800,『格好』付けずに]
type    = S
movetype= A
physics = S
anim = 2800
velset = 0,0
poweradd = -3000
;juggle  = 1
ctrl = 0
sprpriority = 4
facep2 = 1

	[State -1,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State -1,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.666
		fvar(1)= ifelse(var(24)<2,0.666,ifelse(var(24)<3,0.555,0.444))
		persistent = 0
 		ignorehitpause = 1

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 2800, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		trigger1 = var(42) := 4
		var(0) = 550

	[State 2800, リセット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 0

	[State 2800, リセット]
		type = Varset
		trigger1 = Time = 0
		var(20) = 0

	[State 2800,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2800, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 0
		time = var(0)

	[State 2800, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = anim = 2801
		time = 1
		
;-----------------------------------暗転演出------------------------------------
	[State 2800,暗転処理]
		Type=envColor
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 0
		value=0,0,0
		Time=var(0)
		under=1

	[State 2800, EX暗転]
		type = SuperPause
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 0
		time = var(0)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(0)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2800,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=30,-90
		Ownpal=0
		SprPriority=5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2800,カットイン1]
		Type=Explod
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 35
		Anim=7004
		ID=7004
		PosType=Back
		Pos=-35,-0
		Ownpal=0
		Scale=.25,.25
		SprPriority=1
		OnTop=0
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2800,安心院さん手差し伸べ]
		Type=Explod
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 70
		Anim=8000
		ID=8000
		PosType=p1
		Pos=55,-40
		Ownpal=0
;		Scale=.25,.25
		SprPriority=4
		OnTop=0
		ownpal = 1
		RemoveTime=40
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		facing = -1

	[State 2800,安心院さん手差し伸べ]
		Type=Explod
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 70
		Anim=12220
		ID=8000
		PosType=p1
		Pos=55,-90
		Ownpal=0
		Scale=.5,.5
		SprPriority=5
		OnTop=5
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		facing = -1

;-----------------------------------暗転演出------------------------------------
	[State 2800,白]
		type = Explod
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 100
		anim = 11664
		ID = 11664
		pos = 30,-95
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		scale = 2,2
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0
		ontop = 1

	[State 2800, バシュン音]
		type = PlaySnd
		trigger1 = anim = 2800
		trigger1 = animelemtime(3) = 100
		value = 105, 31
		channel = -1

	[State 2800,安心院さんカットイン]
		Type=Explod
		trigger1 = anim = 2801
		Anim=7005
		ID=7005
		PosType=Back
		Pos=ifelse(facing = -1,370,-40),-120
		Ownpal=0
		Scale=.25,.25
		SprPriority=5
		OnTop=1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		facing = ifelse(facing = -1,-1,1)
		persistent=0

	[State 2800,文字]
		Type=Explod
		trigger1 = anim = 2801
		Anim=7006
		ID=7006
		PosType=Back
		Pos=ifelse(facing = -1,280,40),140
		Ownpal=0
		Scale=.5,.5
		SprPriority=5
		OnTop=1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		facing = ifelse(facing = -1,-1,1)
		persistent=0


	[State 2800, エクスカリバーアニメ変更]
		type = Changeanim
		trigger1 = animelemtime(3) = 120
		trigger1 = anim = 2800
		value = 2801

	[State 2800, エクスカリバーアニメ変更]
		type = ChangeAnim
		trigger1 = anim = 2801
		trigger1 = numexplod(7006) = 1
		value = 2801
		elem = 1

	[State 2800,暗転処理]
		Type=envColor
		trigger1 = anim = 2801
		value=0,0,0
		Time=2
		under=1

	[State 2800, 勝ちたい]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(2) = 0
		value = 2800, 1
		channel = 0


	[State 2800, 溜め音1]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(6) = 10
		value = 105, 35
		channel = -1

	[State 2800,ｷﾗｷﾗエフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(6) = 10
		Anim=6510
		ID=6530
		PosType=p1
		Pos=0,0
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1

	[State 2800,陣エフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(6) = 10
		Anim=6520
		ID=6530
		PosType=p1
		Pos=-5,20
		Ownpal=0
		SprPriority=-1
;		scale = .75,.75
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1
	
	[State 2800, 主役ボイス]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(5) = 0
		value = 2800, 0
		channel = 0

	[State 2800, 溜め音2]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(7) = 60
		value = 105, 16
		channel = -1

	[State 2800,聖剣エフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(7) = 60
		Anim=6530
		ID=6530
		PosType=p1
		Pos=0,-125
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1

	[State 2800, 溜め音3]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(7) = 110
		value = 105, 18
		channel = -1

	[State 2800,聖剣エフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(7) = 110
		Anim=6530
		ID=6530
		PosType=p1
		Pos=0,-125
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1

	[State 2800,  聖剣エフェクト消し]
		type = RemoveExplod
		trigger1 = anim = 2801
		trigger1 = animelemtime(8) = 0
		ID = 6530

	[State 2800,聖剣振りかぶりエフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(8) = 0
		Anim=6531
		ID=6531
		PosType=p1
		Pos=-15,-120
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1
		bindtime = -1

	[State 2800,  聖剣エフェクト消し]
		type = RemoveExplod
		trigger1 = anim = 2801
		trigger1 = animelemtime(9) = 0
		ID = 6531

	[State 2800, シャキン]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(8) = 0
		value = 105, 34
		channel = -1

	[State 2800, 主役ボイス]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(8) > 10
		value = 2800, 2
		channel = 0
		lowpriority = 0
		Persistent=0

	[State 2800, 螺旋音]
		type = PlaySnd
		trigger1 = anim = 2801
		trigger1 = animelemtime(9) = 0
		value = 105, 15
		channel = -1

	[State 2800,聖剣振り下ろしエフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(9) = 0
		Anim=6532
		ID=6532
		PosType=p1
		Pos=50,-25
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-2

 	[State 2800, 地面を揺らす]
		type = EnvShake
		trigger1 = anim = 2801
		trigger1 = animelemtime(9) = 0
		time = 10
		freq = 120
		ampl = -60
		phase = 0

	[State 2800, ヒット定義]
		type = HitDef
		Trigger1=!MoveContAct
		Trigger1=!MoveReversed
		trigger1 = anim = 2801
		Trigger1=AnimElem=9,>=0
		attr = S, HA
		damage = Ceil(765*fvar(1)),66
		animtype = back
		guardflag = M
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 35
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -80
		hitsound = -1
		guardsound = -1
		ground.slidetime = 12
		ground.hittime  = 12
		ground.velocity = -50,-6
		air.velocity = -50,-6
		airguard.velocity = -50,6
		ground.cornerpush.veloff = ifelse(fvar(11)<=10,-6.5,-(fvar(11))*0.8)
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		yaccel = .55
		getpower = 0,0
		givepower =50,5
		id= 2800

	[State 2800, リセット]
		type = Varset
		trigger1 = NumTarget(2800)
		trigger1 = MoveHit=1
		var(30) = abs(Target(2800),pos x - pos x)
		IgnoreHitPause=1

	[State 2800, 相手位置固定]
		type = TargetBind
		trigger1 = NumTarget(2800)
		trigger1 = MoveHit=1
		time = 1
		ID = 2800
		pos = var(30), 0

	[State -2,向き直し]
		type = TargetFacing
		trigger1 = moveHit = 1
		value = -1

	[State -2,壁吹き飛ばし]
		type = TargetState
		trigger1 = Target(2800),alive = 1
		trigger1 = numTarget(2800)
		trigger1 = Target(2800),statetype = A
		trigger1 = movehit>10
		value = 7000
		persistent = 0

	[State 2800,聖剣ビームエフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(10) = 0
		Anim=6540
		ID=6540
		PosType=p1
		Pos=40,-15
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1
		bindtime = -1

	[State 2800,聖剣ビームエフェクト]
		Type=Explod
		trigger1 = anim = 2801
		trigger1 = animelemtime(10) = 0
		Anim=6540
		ID=6540
		PosType=p1
		Pos=40,-15
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-1

	[State 2800,  聖剣ビームエフェクト消し]
		type = RemoveExplod
		trigger1 = anim = 2802
		trigger2 = anim = 2803
		ID = 6540
		Persistent=0

	[State 2800,聖剣ビームエフェクト]
		Type=Explod
		trigger1 = anim = 2802
		trigger2 = anim = 2803
		Anim=6541
		ID=6541
		PosType=p1
		Pos=40,-15
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-2

	[State 2800,剣消滅エフェクト]
		Type=Explod
		trigger1 = animelemtime(5) = 0
		trigger1 = anim = 2802
		trigger2 = animelemtime(2) = 5
		trigger2 = anim = 2803
		Anim=6500
		ID=6500
		PosType=p1
		Pos=5,0
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
		RemoveTime=-2

	[State 2800, 勝利アニメ移行]
		type = Changeanim
		triggerAll = AnimTime = 0
		triggerAll = Time > 440
		trigger1 = Win
		trigger1 = anim = 2801
		trigger1 = var(42) := 3
		value = 2803

	[State 2800, また勝てなかったアニメ移行]
		type = Changeanim
		triggerAll = AnimTime = 0
		triggerAll = Time > 440
		trigger1 = !Win
		trigger1 = anim = 2801
		trigger1 = var(42) := 4
		value = 2802

	[State 2800, ゲージ0]
		type = powerset
		trigger1 = animelemtime(7) = 0
		trigger1 = anim = 2802
		trigger1 = var(23)
		value = 0
		IgnoreHitPause=1
		Persistent=0

	[State 2800, ステート変更]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = anim = 2802
		value = 0
		ctrl = 1

	[State 2800, 特殊勝利ステート移行]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = anim = 2803
		value = 5150
		
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;僕は負けてなんかいない
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2810,アバンストラッシュ]
type    = S
movetype= A
physics = S
anim = 2810
velset = 0,0
poweradd = 0
;juggle  = 1
ctrl = 0
sprpriority = 4
facep2 = 1

	[State 2810,  聖剣ビームエフェクト消し]
		type = RemoveExplod
		trigger1 = time = 0
		ID = 6540
		Persistent=0

	[State 2810, 位置調整]
		type = Width
		trigger1 = animelemtime(2) >= 0
		trigger1 = animelemtime(10)  < 0
		edge = 0,32

	[State 2810, 位置調整]
		type = Width
		trigger1 = animelemtime(12) = 0
		trigger1 = animelemtime(13)  < 0
		player = 0,64

	[State 2810, 位置調整]
		type = Width
		trigger1 = animelemtime(13) = 0
		trigger1 = animelemtime(16)  < 0
		edge = 32,0

	[State 2810, 押し出し]
		type = PlayerPush
		trigger1 = animelemtime(13) = 0
		trigger1 = animelemtime(16)  < 0
		value = 0

	[State 2810, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 2810, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(0) = 220

	[State 2810, リセット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 0

	[State 2810,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0

	[State 2810, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	[State 2810,暗転処理]
		Type=envColor
		trigger1 = anim = 2810
		trigger1 = animelemtime(6) = 0
		value=0,0,0
		Time=var(0)
		under=1

	[State -1,カットイン1]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(6) = 0
		Anim=7015
		ID=7007
		PosType=Back
		;Pos=-50,0
		Pos=ifelse(((facing = 1 && (pos x = [-150,0]))||(facing = -1 && (pos x = [0,150]))),50,-30),0
		Ownpal=0
		Scale=.35,.35
		SprPriority=4
		OnTop=0
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1


	[State -1,論破背景]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(6) = 0
		Anim=7016
		ID=7000
		PosType=back
		Pos=0,0
		Ownpal=0
		SprPriority=-1
		Scale=.65,.65
		OnTop=0
		RemoveTime=-2
		bindTime=30
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2000, 背景]
		type = BGPalFX
		trigger1 = anim = 2810
		trigger1 = AnimElemtime(6) >= 0
		trigger1 = AnimElemtime(16) < 20
		time = 2
		add = 256,256,256
		mul = 0,0,0
		invertall = 0

	[State 2000, 背景]
		type = AssertSpecial
		trigger1 = anim = 2810
		trigger1 = AnimElemtime(6) >= 0
		trigger1 = AnimElemtime(16) < 20
		flag = globalnoshadow
		flag2 = unguardable
		flag3 = timerfreeze

	[State 2810, EX暗転]
		type = SuperPause
		trigger1 = anim = 2810
		trigger1 = animelemtime(6) = 0
		time = var(0)-20
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(0)-20
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2810,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(6) = 0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=-30,-60
		Ownpal=0
		SprPriority=5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999


	[State 2810, 主役ボイス]
		type = PlaySnd
		Trigger1 = animelemTime(6) = 10
		value = 2810, 0
		channel = 0
		lowpriority = 0
		Persistent = 0

		
	[State 2810,聖剣エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(7) = 0
		Anim=6550
		ID=6550
		PosType=p1
		Pos=-25,-60
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810, シャキン]
		type = PlaySnd
		trigger1 = anim = 2810
		trigger1 = animelemtime(7) = 0
		value = 105, 35
		channel = -1

	[State 2810, 位置移動]
		type = Posadd
		trigger1 = anim = 2810
		trigger1 = animelemtime(11) = 0
		x = 20

	[State 2810, カメラ]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 1,0

	[State 2810, 位置設定]
		type = Posset
		trigger1 = anim = 2810
		trigger1 = animelemtime(12) = 0
		trigger1 = numtarget
		x = target,pos x

	[State 2810, 位置設定]
		type = Posset
		trigger1 = anim = 2810
		trigger1 = animelemtime(12) = 1
		trigger1 = numtarget
		x = target,pos x +(150*facing)

	[State 2810, 位置設定]
		type = Posset
		trigger1 = anim = 2810
		trigger1 = animelemtime(12) = 0
		trigger1 = !numtarget
		x = enemy,pos x

	[State 2810, 位置設定]
		type = Posset
		trigger1 = anim = 2810
		trigger1 = animelemtime(12) = 1
		trigger1 = !numtarget
		x = enemy,pos x +(150*facing)

	[State 2810,聖剣消滅エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(16) = 0
		Anim=6555
		ID=6555
		PosType=p1
		Pos=29,-48
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810,斬撃エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = animelemtime(12) = 2
		Anim=6560
		ID=6560
;		PosType=back
;		Pos=0,10
		PosType=p1
		Pos=-300,-190
		Ownpal=0
		SprPriority=5
;		scale = .5,.5
		OnTop=1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810, ヒット定義]
		type = HitDef
		triggerAll = anim = 2810
		triggerall = hitCount < 1
		triggerall = !moveGuarded && !moveReversed
		trigger1 = AnimElemtime(12) >= 0
		trigger1 = AnimElemtime(13) < 0
		attr = S, HA
		damage = 0, 0
		animtype = Light
		guardflag = MA
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -76
		hitsound = s200, 13
		guardsound = 6, 0
		ground.type = High
		ground.slidetime = 5
		ground.hittime  = 50
		ground.velocity = -0,0
		airguard.velocity = -0,0
		air.type = High
		air.velocity = -0,0
		air.hittime = 12
		fall = 1
		fall.recover = 0
		fall.recovertime = 9999999999999999
		ID = 2810

	[State 2810, ステート奪取]
		type = Targetfacing
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		value = -1

	[State 2810, ステート奪取]
		type = TargetBind
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit=1
		time = 1
		ID = 2810
		pos = -90, 0

	[State 2810, ステート奪取]
		type = TargetState
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit=1
		value = 2350

	[State 2810, 斬撃スロー処理]
		type = Pause
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=1
		time = 15
		movetime = 0

	[State 2810,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=10
		Anim=10248
		ID=10245
		PosType=back
		Pos=-0,0
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=10
		Anim=10249
		ID=10245
		PosType=p2
		Pos=-0,-30
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810,超必殺エフェクト]
		Type=Explod
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=10
		Anim=10250
		ID=10245
		PosType=p2
		Pos=-0,-30
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=-2
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999

	[State 2810,割合ダメージ]
		type = TargetLifeAdd
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=15
		value = Ceil(-0.2 * enemy,Const(data.life))
		Absolute = 1	;攻撃力、防御力無視
		persistent=0

	[State 2810, シャキン]
		type = PlaySnd
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=10
		value = 2800, 3
		channel = 0

	[State 2810, シャキン]
		type = PlaySnd
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=10
		value = 105, 11
		channel = -1

 	[State 2810, 地面を揺らす]
		type = EnvShake
		trigger1 = anim = 2810
		trigger1 = NumTarget(2810)
		trigger1 = MoveHit
		trigger1 = animelemtime(13)=11
		time = 30
		freq = 80
		ampl = -40
		phase = 0

	[State 2810, ステート開放]
		type = TargetState
		trigger1 = anim = 2810
		trigger1 = animelemtime(16) = 20
		value = 2351

	[State 2800, ゲージ0]
		type = powerset
		trigger1 = anim = 2810
		trigger1 = animelemtime(13) = 10
		trigger1 = var(23)
		value = 0
		IgnoreHitPause=1
		Persistent=0


	[State 2800, ゲージ-2000]
		type = poweradd
		trigger1 = anim = 2810
		trigger1 = animelemtime(13) = 10
		trigger1 = !var(23)
		value = -2000
		IgnoreHitPause=1
		Persistent=0

	[State 2810, また勝てなかった]
		type = varset
		trigger1 = !Win
		var(42) = 4

	[State 2810, ステート変更]
		type = ChangeState
		trigger1 = anim = 2810
		trigger1 = animelemtime(18) > 0
		trigger1 = Win
		trigger1 = var(42) := 5
		value = 5150

	[State 2810, ステート変更]
		type = ChangeState
		trigger1 = AnimTime = 0
		value = 0
		ctrl = 1

;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『却本作り＋大嘘憑き』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 2900,『却本作り＋大嘘憑き』]
type    = S
movetype= A
physics = N
anim = 2900
velset = 0,0
poweradd = -6000
;juggle  = 1
ctrl = 0
sprpriority = 4
facep2 = 1

	[State 2900, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(0) = 160

	[State 2900,キャンセルフラグ初期化]
		Type = VarSet
		Trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 2900, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = anim = 2901
		trigger1 = animelemtime(3) >= 0
		trigger1 = animelemtime(5) < 0
		time = 1
		
	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300
		
;-----------------------------------暗転演出------------------------------------
		[State 2900, ボイス]
		type = PlaySnd
		trigger1 = time = 0
		value = 2900, 0
		channel = 0

		[State 2900, 螺旋音]
		type = PlaySnd
		trigger1 = time = 50
		value = 105, 14
		channel = -1

		[State 2900, 螺旋音]
		type = PlaySnd
		trigger1 = time = 60
		trigger2 = time = 110
		value = 105, 20
		volume = 255
		channel = -1
	
	[State 2900,暗転処理]
		Type=envColor
		trigger1 = anim = 2900
		trigger2 = anim = 2901
		trigger2 = animelemtime(4) < 10
		value=255,255,255
		Time=1;var(0)
		under=1

	[State 2900, EX暗転]
		type = SuperPause
		trigger1 = time = 0
		time = var(0)
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = var(0)
		darken = 0
		p2defmul = 1
		poweradd = 0
		unhittable = 1

	[State 2900,超必殺エフェクト]
		Type=Explod
		trigger1 = time = 0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=0,-65
		Ownpal=0
		SprPriority=5
		OnTop=0
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999


	[State -1,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7008
		ID=7003
		PosType=Back
		Pos=20,-0
		Ownpal=0
		Scale=.25,.25
		SprPriority=1
		OnTop=0
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

;-----------------------------------暗転演出------------------------------------
	[State 2900, 螺子踏みアニメ]
		type = Changeanim
		trigger1 = anim = 2900
		trigger1 = time = var(0) + 180
		value = 2901

	[State 2900,黒]
		type = StopSnd
		trigger1 = anim = 2901
		trigger1 = animelemtime(3) = 3
		channel = 2
	
	[State 2900, バシュン音]
		type = PlaySnd
		trigger1 = anim = 2901
		trigger1 = animelemtime(2) = 0
		value = 110, 7
		channel = -1

	[State 2900,岩]
		type = Explod
		trigger1 = anim = 2901
		trigger1 = animelemtime(2) = 0
		anim = 6241
		ID = 6241
		pos = 15,5
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		scale = .75,.75
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0
		ontop = 1

	[State 2900,黒]
		type = Explod
		trigger1 = anim = 2901
		trigger1 = animelemtime(3) = 20
		anim = 11665
		ID = 11664
		pos = 10,0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		scale = 2,2
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0
		ontop = 1

	[State 2900, バシュン音]
		type = PlaySnd
		trigger1 = anim = 2901
		trigger1 = animelemtime(3) = 20
		value = 105, 16
		channel = -1

	[State 2900, ヒット定義]
		type = HitDef
		Trigger1=!MoveContAct
		Trigger1=!MoveReversed
		trigger1 = anim = 2901
		Trigger1=AnimElem=4,>=0
		attr = S, HP
		damage = 0, 0
		animtype = Hard
		guardflag = -1
		hitflag = MAF
		priority = 3, Hit
		pausetime = 0, 0
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = -10, -80
		hitsound = -1
		guardsound = -1
		ground.type = High
		ground.slidetime = 12
		ground.hittime  = 12
		ground.velocity = 0,0
		air.velocity = 0,0
		airguard.velocity = 0,0
		ground.cornerpush.veloff =0
		getpower = 0,0
		givepower =0,0
		ID = 2900

	[State 2900, 相手ステート待機]
		type = TargetState
		trigger1 = anim = 2901
		trigger1 = NumTarget(2900)
		trigger1 = MoveHit
		trigger1 = Target(2900),stateno != 2950
		value = 2950

	[State 2900,暗転処理]
		Type=envColor
		trigger1 = anim = 2902
		value=0,0,0
		Time=1
		under=1

	[State 2900, アニメ変更]
		type = Changeanim
		trigger1 = anim = 2901
		trigger1 = NumTarget(2900)
		trigger1 = MoveHit=10
		value = 2902

	[State 2900, 初期移動]
		type = posadd
		trigger1 = anim = 2902
		x = -13000
		y = 0
		persistent=0

	[State 2900, 押し判定]
		type = PlayerPush
		trigger1 = anim = 2902
		value = 0

	[State 2900, 幅変更]
		type = Width
		trigger1 = 1;anim = 2902
		edge = 0,16

	[State 2900, 相手ステート気絶やられ]
		type = TargetState
		trigger1 = anim = 2902
		value = 2951
		persistent=0

	[State 2900, エクスカリバーアニメ変更]
		type = ChangeAnim
		trigger1 = anim = 2902
		trigger1 = numexplod(11664) = 1
		value = 2902
		elem = 1
		
	[State -1,カットイン1]
		Type=Explod
		trigger1 = anim = 2902
		trigger1 = animelemtime(2) = 0
		Anim=7007
		ID=7007
		PosType=Back
		Pos=-50,-0
		Ownpal=0
		Scale=.5,.5
		SprPriority=5
		OnTop=0
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 2900, ボイス]
		type = PlaySnd
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		value = 2700, 0
		channel = 0

	[State 2900, エクスカリバーアニメ変更]
		type = BindToTarget
		trigger1 = anim = 2902
		trigger1 = animelemtime(4) = 0
		time = 1
		ID = -1
		pos = 100, -30
		persistent=0

	[State 2900, エクスカリバーアニメ変更]
		type = BindToTarget
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		time = 1
		ID = -1
		pos = -70, 0
		persistent=0

	[State 2900, 脚本螺子エフェクト前]
		type = Explod
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2951
		anim = 2903
		ID = 2702
		pos = -10, -65
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0

	[State 2900, 脚本螺子エフェクト前]
		type = Explod
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2951
		anim = 2904
		ID = 2703
		pos = -10, -65
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = -1
		ownpal = 1
		RemoveTime=-2
		facing = -1
		persistent=0


	[State 2900, 脚本螺子エフェクト前]
		type = Explod
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2951
		anim = 2903
		ID = 2702
		pos = 5, -55
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = 5
		ownpal = 1
		RemoveTime=-2
		facing = -1
		vfacing = -1
		persistent=0

	[State 2900, 脚本螺子エフェクト前]
		type = Explod
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2951
		anim = 2904
		ID = 2702
		pos = 5, -55
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		;scale = 1.5,1.5
		sprpriority = -1
		ownpal = 1
		RemoveTime=-2
		facing = -1
		vfacing = -1
		persistent=0


	[State 2900, SE]
		type = PlaySnd
		triggerAll = anim = 2902
		triggerAll = NumTarget(2900)
		triggerAll = target(2900),stateno = 2951	
		trigger1 = animelemtime(5) = 0
		trigger2 = animelemtime(5) = 1
		value = 105, 7
		channel = -1

	[State 2900, SE]
		type = PlaySnd
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2952
		trigger1 = target(2900),time = 60
		value = 105, 33
		channel = -1


	[State 2900, 相手ステート却本作りやられ]
		type = TargetState
		trigger1 = anim = 2902
		trigger1 = animelemtime(5) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2951
		value = 2952

	[State 2900, velset]
		Type = posadd
		triggerall = anim = 2902
		trigger1 = animelemtime(11) = 0
		trigger2 = animelemtime(12) = 0
		x = -12

	[State 2900, velset]
		Type = VelSet
		trigger1 = anim = 2902
		trigger1 = animelemtime(13) = 0
		x = -.63

	[State 2900, velset]
		Type = VelSet
		trigger1 = anim = 2902
		trigger1 = animelemtime(25) = 0
		x = 0

	[State 2900, 相手到着]
		type = BindToTarget
		trigger1 = anim = 2902
		trigger1 = animelemtime(25) = 0
		time = 1
		ID = -1
		pos = 0, 0
		persistent=0


	[State 2900, ボイス]
		type = PlaySnd
		trigger1 = anim = 2902
		trigger1 = animelemtime(27) = 0
		value = 2900, 1
		channel = 0
		
	[State 2900, 相手ステート大嘘憑きやられ]
		type = TargetState
		trigger1 = anim = 2902
		trigger1 = animelemtime(29) = 0
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2952
		value = 2953

	[State 2900, 相手ステート大嘘憑きやられ]
		type = TargetBind
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2953
		trigger1 = target(2900),animelemtime(2) = 0
		time = 1
		ID = 2900
		pos = 15, -90

	[State 2900, 大嘘憑き消滅エフェクト]
		type = Explod
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2953
		trigger1 = target(2900),time = 50
		anim = 2905
		ID = 2905
		pos = 0, -0
		postype = p2
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 2,2
		sprpriority = -1
		ownpal = 1
		RemoveTime=-2
		facing = -1
		vfacing = -1
		persistent=0

	[State 2900, ボイス]
		type = PlaySnd
		trigger1 = NumTarget(2900)
		trigger1 = target(2900),stateno = 2953
		trigger1 = target(2900),time = 50
		value = 105, 31
		channel = -1

	[State 2900, ステート変更]
		type = Changeanim
		triggerAll = AnimTime = 0
		trigger1 = !Win
		trigger1 = anim = 2902
		trigger1 = time > 800
		value = 2915

	[State 2900, ステート変更]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = Win
		trigger1 = anim = 2902
		trigger1 = time > 800
		trigger1 = var(42) := 1
		value = 5150

	[State 2900, ステート変更]
		type = ChangeState
		triggerAll = AnimTime = 0
		trigger1 = anim = 2901
		trigger2 = anim = 2915
		value = 0
		ctrl = 1

;------------------------------------------------------------------------------
[Statedef 2950,相手待機]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = -1
facep2 = 1
velset = 0,0

	;-------------------------------------------
	[State 2950, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2950, カメラ制御]
		type = AssertSpecial
		trigger1 = 1
		flag = noautoturn

	[State 2950, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2950, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	;-------------------------------------------
	[State 2950, ステート変更]
		type = SelfState
		trigger1 = Time = 300
		value = 5110

;------------------------------------------------------------------------------
[Statedef 2951,相手気絶]
type    = S
movetype= H
physics = N
ctrl = 0
sprpriority = -1
facep2 = 1
velset = 0,0

	;-------------------------------------------
	[State 2951, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2951, カメラ制御]
		type = AssertSpecial
		trigger1 = 1
		flag = noautoturn

	[State 2951, Anim変更]
		type = ChangeAnim
		trigger1 = Time = 0
		value = 5300

	[State 2951, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2951, 押し判定]
		type = Posset
		trigger1 = time = 0
		x = 50*-facing
		y = 0
		
	[State 2951, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0
		
	[State 2951, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	;-------------------------------------------
	[State 2951, ステート変更]
		type = SelfState
		trigger1 = Time = 300
		value = 5110

;------------------------------------------------------------------------------
[Statedef 2952,相手却本やられ]
type    = U
movetype= H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

	;-------------------------------------------
	[State 2952, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2952, カメラ制御]
		type = AssertSpecial
		trigger1 = 1
		flag = noautoturn

	[State 2952, Anim変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 2910
		
	[State 2250, Anim変更]		
		type = PalFX
		trigger1 = time >= 60
		trigger1 = time < 120
		time = 1
		add = 225+time,225+time,225+time

	[State 2952, Anim変更]		
		type = PalFX
		trigger1 = time >= 120
		time = 1
		add = 255,255,255

	[State 2952, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2952, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	;-------------------------------------------
	[State 2952, ステート変更]
		type = SelfState
		trigger1 = Time = 300
		value = 5110

;------------------------------------------------------------------------------
[Statedef 2953,相手大嘘やられ1]
type    = U
movetype= H
physics = N
ctrl = 0
sprpriority = -1
velset = 0,0

	;-------------------------------------------
	[State 2953, カメラ制御]
		type = ScreenBound
		trigger1 = 1
		value = 1
		movecamera = 0,0

	[State 2953, カメラ制御]
		type = AssertSpecial
		trigger1 = 1
		flag = noautoturn

	[State 2953, Anim変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 2911

	[State 2953, Anim変更]		
		type = PalFX
		trigger1 = 1
		time = 1
		add = 255,255,255

	[State 2953, Anim変更]		
		type = AssertSpecial
		trigger1 = time >= 50
		flag = invisible
		flag2 = nokosnd
		flag3 = nokoslow
	
	[State 2953, Anim変更]		
		type = lifeset
		trigger1 = time = 90
		value = 0

	[State 2953, Anim変更]
		type = StopSnd
		trigger1 = !alive
		trigger1 = time > 90
		trigger1 = time < 100
		channel = -1

	[State 2953, 押し判定]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2953, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 1

	;-------------------------------------------
	[State 2953, 死亡ステート変更]
		type = changeState
		trigger1 = !alive
		trigger1 = Time = 130
		value = 5150

	[State 2953, ステート変更]
		type = SelfState
		trigger1 = alive
		trigger1 = Time = 200
		value = 5110
		
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『楔』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3000]
type    = U
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
poweradd = -2000

	[State 3000,超必殺攻撃補正]
		type = Varset
		Trigger1=Time=0
		fvar(1)= fvar(0)
		persistent = 0
 		ignorehitpause = 1

	[State 3000,最低攻撃保障]
		type = Varset
		Trigger1=Time=0
		Trigger1=fvar(0)<=0.555
		fvar(1)= ifelse(var(24)<2,0.555,0.444)
;		Trigger1=fvar(0)<=0.666
;		fvar(1)= ifelse(var(24)<2,0.666,ifelse(var(24)<3,0.555,0.444))
		persistent = 0
 		ignorehitpause = 1

	[State 3000, キャンセルフラグリセット]
		type = Varset
		trigger1 = Time = 0
		var(1) = 0
		persistent = 0
 		ignorehitpause = 1

	[State 3000, 開始時間セット]
		type = Varset
		trigger1 = Time = 0
		var(0) = 105

	[State 3000, 停止時間セット]
		type = Varset
		trigger1 = Time = 0
		var(10) = 165

	[State 3000, 判断]
		type = Varset
		trigger1 = Time = 0
		var(20) = IfElse(StateType != A, 0, 1)
		persistent = 0
 		ignorehitpause = 1

	[State 3201,すり抜け]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 2900, 防御距離]
		type = AttackDist
		trigger1 = 1
		value = 300

	[State 1300, 固定]
		type = Helper
		Trigger1 = anim = 3004
		ID = 6525
		pos = 0,0
		postype = p1
		stateno = 6525
		helpertype = normal
		name = "AT"
		keyctrl = 0
		ownpal = 1
		supermovetime = 0
		pausemovetime = 0
		size.xscale = 1.0
		size.yscale = 1.0
		persistent = 0
 		ignorehitpause = 1


	[State 230, ATSE]
		type = PlaySnd
		trigger1 = Time = 0
		trigger1 = var(20)
		value = 110, 2
		volume = -128

	[State 10220, ATエフェ]
		type = Explod
		trigger1 = Time = 0
		trigger1 = var(20)
		anim = 10041
		id = 10041
		pos = -7,0
		postype = p1
		ownpal = 1
		scale = 0.6,0.15
		pausemovetime = 999
		supermovetime = 999
		sprpriority = -5
		removetime = var(10)+10

	[State 3000, 背景]
		type = BGPalFX
		trigger1 = Time = 0
		time = var(10)
		add = 256,256,256
		mul = 0,0,0
		invertall = 0

	[State 3000, ボイス]
		type = PlaySnd
		trigger1 = Time =0
		value = 3000, 0
		channel = 0

	[State 3000, SE]
		type = PlaySnd
		trigger1 = Time =0
		value = 105,8
		channel = -1
		
	[State 3000, 時間停止]
		type = SuperPause
		trigger1 = Time =0
		time = var(10)
		anim = -1
		sound = -1
		pos = 0,0
		movetime = var(10)
		darken = 0
		p2defmul = 1
		poweradd = 0

	[State 3000,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=0
		Anim=6000
		ID=6000
		PosType=p1
		Pos=0,-80
		Ownpal=0
		SprPriority=3
		OnTop=0
		RemoveTime=30
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9**8
		PauseMoveTime=9**8

	[State 3000,カットイン1]
		Type=Explod
		Trigger1=Time=0
		Anim=7017
		ID=7000
		PosType=L
		Pos=-30,-10
		Ownpal=0
		SprPriority=IfElse(var(20), 5, 1)
		Scale=.5,.5
		OnTop=0
		RemoveTime=-2
		bindTime=-1
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 3000, SE]
		type = PlaySnd
		trigger1 = anim  =3000
		trigger1 = animelemtime(4)  =0
		value = 105,14
		channel = -1

	[State 3000, 槍出現SE]
		type = PlaySnd
		trigger1 = time = var(0)
		value = 105, 31
		channel = -1

	[State 3000, 槍出現エフェクト]
		type = Explod
		trigger1 = time = var(0)
		anim = 6581
		ID = 6581
		pos = 28, 50
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		scale = 1.25,1.25
		sprpriority = 3
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0

	[State 3000, アニメ変更]
		type = Changeanim
		trigger1 = numExplod(6581)
		value = 3001
		IgnoreHitPause=1
		Persistent=0

	[State 3000, アニメ変更]
		type = Changeanim
		trigger1 = anim = 3001 
		trigger1 = !numExplod(6581)
		value = 3002

	[State 3000, アニメ変更]
		type = Changeanim
		trigger1 = time = var(10)
		value = 3003

	[State 3000,相手位置サーチ]
		type = PosAdd
		trigger1 = !numtarget
		trigger1 = anim = 3003
		trigger1 = animelemtime(2) = 0
		x = abs(enemynear,pos x - pos x - facing * 40)
		y = ifelse(enemynear,pos y<=-20,(enemynear,pos y -40),-120)

	[State 3000,相手位置サーチ]
		type = PosAdd
		trigger1 = !numtarget
		trigger1 = anim = 3003
		trigger1 = AnimElemTime(2) >= 1
		trigger1 = AnimElemTime(4) < 0
		x = abs(enemynear,pos x - pos x - facing * 40)

	[State 3000,相手位置サーチ]
		type = PosAdd
		trigger1 = numtarget
		trigger1 = anim = 3003
		trigger1 = animelemtime(2) = 0
		x = abs(target,pos x - pos x - facing * 40)
		y = ifelse(target,pos y<=-20,(target,pos y -40),-120)

	[State 3000,相手位置サーチ]
		type = PosAdd
		trigger1 = numtarget
		trigger1 = anim = 3003
		trigger1 = AnimElemTime(2) >= 1
		trigger1 = AnimElemTime(4) < 0
		x = abs(target,pos x - pos x - facing * 40)

	[State 3000,]
		type = StateTypeSet
		trigger1 = anim = 3003
		trigger1 = animelemtime(2) = 0
		statetype = A

	[State 3000,]
		type = StateTypeSet
		trigger1 = anim = 3003
		trigger1 = animelemtime(5) = 4
		movetype= A

	[State 3000,落下速度]
		type = Velset
		trigger1 = anim = 3003
		trigger1 = animelemtime(6) = 0
		x = 1
		y = 44

	[State 3000,重力]
		type = Veladd
		trigger1 = anim = 3003
		trigger1 = animelemtime(6) = 0
		y = 1

	[State 3000, ヒット定義]
		type = HitDef
		trigger1 = anim = 3003
		trigger1 = !moveGuarded && !moveReversed
		trigger1 = !movehit
		attr = S, HA
		animtype = back
		hitflag = MAF
		guardflag = M
		ground.type = low
		air.type = low
		sparkno = -1
		guard.sparkno = S10000
		sparkxy = 0, floor((ceil(enemyNear, pos Y) - 10) * const(size.yscale))
		hitsound = S105, 3
		guardsound = S105, 4
		damage = Ceil(ifelse(var(2) != 0,360,310)*fvar(1)),40
		priority = 6, Hit
		getpower = 0, 0
		givepower = 53, 27
		pausetime = 0,2
		guard.pausetime = 3, 15
		ground.slidetime = 24
		guard.slidetime = 24
		ground.hittime = 24
		guard.hittime = 24
		air.hittime = 24
		ground.velocity = -1,-1
		guard.velocity = 0
		air.velocity = -2,-1
		airguard.velocity =0, 0
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recover = 0
		Yaccel=0.45
		id = 3000

	[State 3010, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = movehit
		trigger2 = !var(20)
		trigger2 = anim = 3003
		time = 2

	[State 3000, ]
		type = TargetBind
		trigger1 = target(3000),stateno=3010
;		trigger2 = anim=3003
;		trigger2 = movehit
		time = 1
		ID = 3000
		pos = 20, pos y+10
 		ignorehitpause = 1

	[State 3000,着地アニメ]
		type = changeanim
		trigger1 = pos y >= 15
		trigger1 = anim = 3003
		value =3004

	[State 3000,速度0]
		type = Velset
		trigger1 = anim = 3004
		x = 0
		y = 0
		persistent = 0
 		ignorehitpause = 1

	[State 3000,着地]
		type = Posset
		trigger1 = anim = 3004
		y = 0
		persistent = 0
 		ignorehitpause = 1

	[State 3000,]
		type = StateTypeSet
		trigger1 = anim = 3004
		statetype = C
		persistent = 0
 		ignorehitpause = 1

	[State 3000, 着地エフェクト]
		type = Explod
		trigger1 = anim = 3004
		anim = 6582
		ID = 6582
		pos = 30, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
;		scale = 1.8,1.8
		sprpriority = 5
		ownpal = 1
		removeongethit = 1
		persistent = 0
 		ignorehitpause = 1

	[State 3000, 着地SE]
		type = PlaySnd
		trigger1 = anim = 3004
		value = 105, 15
		channel = -1
		persistent = 0
 		ignorehitpause = 1

	[State 3000, 画面揺らし]
		type = EnvShake
		trigger1 = anim = 3004
		time = 15
		freq =40
		ampl = -70
		phase = 0
		persistent = 0
 		ignorehitpause = 1

	[State 3000, ヒット定義]
		type = HitDef
		trigger1 = movehit
		trigger1 = target(3000),stateno!=3010
		trigger1 = anim = 3004
		attr = S, HA
		animtype = hard
		hitflag = MAFD
		guardflag = MA
		ground.type = low
		air.type = low
		sparkno = -1
		guard.sparkno = -1
		sparkxy = 0, 0
		hitsound = -1
		guardsound = S105, 4
		damage =0,0
		priority = 6, Hit
		getpower = 0, 0
		givepower = 0, 0
		pausetime = 0,0
		guard.pausetime = 0, 0
		ground.slidetime = 24
		guard.slidetime = 24
		ground.hittime = 24
		guard.hittime = 24
		air.hittime = 24
		ground.velocity = 0,0
		guard.velocity = 0
		air.velocity = 0,0
		airguard.velocity = 0, 0
		ground.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		fall = 1
		fall.recover = 0
		Yaccel=0.45
		id = 3000
		numhits = 0
		p2stateno = 3010

	[State 3000, 槍出現エフェクト]
		type = Explod
		trigger1 = movehit;target(3000),stateno=3010
		trigger1 = anim = 3004
		trigger1 = animelemtime(5) = 25
		anim = 3010
		ID = 3010
		pos = 0, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 9999
		pausemovetime = 9999
		sprpriority = 5
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0

	[State 3000, ]
		type = Targetstate
		trigger1 = target(3000),stateno=3010
		trigger1 = anim = 3004
		trigger1 = animelemtime(5) = 30
		Value = 3011
		ID=3000
		persistent = 0
 		ignorehitpause = 1

	[State 3000, 十字爆発攻撃判定]
		type = Helper
		trigger1 = movehit;target(3000),stateno=3011
		trigger1 = anim = 3004
		trigger1 = animelemtime(5) = 30
		stateno = 3015;出現するヘルパーのステートです。
		ID = 3015;ヘルパーのIDです
		postype = p1;ヘルパーが出現する座標軸です
		pos = 30, 20;ヘルパーが出現する座標です。
		helpertype = normal;ヘルパーの種類を設定します。
		name = "cross";出現させるヘルパーの名前です。
		keyctrl = 0;キーの制御を受け付けるかどうかです。
		ownpal = 1
		removeongethit = 1

	[State 3000,超必殺技カウント]
		Type= Varadd
		trigger1 = movehit
		trigger2 = helper(3015),movehit
		var(24)=3
		persistent = 0
 		ignorehitpause = 1

	[State 3000,補正設定]
		Type = VarSet
		trigger1 = movehit
		trigger2 = helper(3015),movehit
		fvar(0)=fvar(0)*0.25
		IgnoreHitPause=1
		Persistent=0

	[State 3000,キャンセルフラグ]
		Type= Varset
		triggerall = anim = 3004
		triggerall = animelemtime(5) = 80
		trigger1 = movehit
		trigger2 = helper(3015),movehit
		var(1)=1
		persistent = 0
 		ignorehitpause = 1

	[State 3000, ステート変更]
		type = ChangeState
		trigger1 = anim = 3004
		trigger1 = animtime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;相手保護
[Statedef 3010]
type    = L
movetype= H
physics = N
velset = 0,0


	[State 3010, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = 1
		time = 2

	[State 3010,押出判定無し]
		type = playerpush
		trigger1 = 1
		value = 0

;	[State 3010, 位置設定]
;		type = posset
;		trigger1 = Time = 0
;		y = 0

	[State 3010, 相手のアニメ変更]
		type = ChangeAnim2
		trigger1 = Time = 0
		value = 1251

	[State 3010]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=100
		value = 5120

	[State 3010]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 100
		value = 5150

;---------------------------------------------------------------------------
;無敵解除
[Statedef 3011]
type    = A
movetype= H
physics = N
velset = 0,0

	[State 3011, 位置設定]
		type = posset
		trigger1 = Time = 0
		y = 0

	[State 3011,押出判定無し]
		type = playerpush
		trigger1 = 1
		value = 0
		
	[State 3011, 無敵]
		type = NotHitBy
		value = SCA
		trigger1 = time = 0
		time = 2

	[State 3011, 相手のアニメ変更]
		type = ChangeAnim
		trigger1 = Time = 0
		value = 5110

	[State 3011]
		Type=SelfState
		Trigger1 = alive
		Trigger1 = time>=50
		value = 5120

	[State 3011]
		Type = SelfState
		Trigger1 =! alive
		Trigger1 = time >= 50
		value = 5150
;---------------------------------------------------------------------------
;十字爆発攻撃判定
[Statedef 3015]
type = A ;
movetype= A ;
velset = 0,0
anim = 3015 ;
sprpriority = 10


	[State 3015, 十字エフェクトSE]
		type = PlaySnd
		trigger1 = time = 0
		value = 3000, 10
		channel = -1

	[State 3015, 十字エフェクト]
		type = Explod
		trigger1 = time = 0
		anim = 6580
		ID = 6580
		pos = 0, 5
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 1.8,1.8
		sprpriority = 5
		ownpal = 1

	[State 3015, 3]
		type = HitDef
		trigger1 = numexplod(6580)
		trigger1 = !moveGuarded && !moveReversed
		trigger1 = HitCount < 12
		attr = S, HP 
		damage = Ceil(ifelse(root,var(2) != 0,20,17)*root,fvar(1)),4
		getpower = 0,0
		animtype = Hard
		pausetime = 3,3
		guard.pausetime = 3,0
		guardflag = MA
		priority = 3
		sparkno = -1
		sparkxy = 0,-50
		guard.sparkno = S10000
		hitsound = -1
		guardsound = 6,0
		ground.type = High
		ground.slidetime = 14
		ground.hittime = 16
		ground.velocity = 0,-8.5
		guard.velocity = -5
		air.velocity = -.5,-7
		airguard.velocity =-5,-4
		ground.cornerpush.veloff = 0
		air.cornerpush.veloff = 0
		down.cornerpush.veloff = 0
		guard.cornerpush.veloff = 0
		airguard.cornerpush.veloff = 0
		envshake.time = 8
		envshake.ampl = 6
		envshake.freq = 100
		fall = 1
		fall.recover = 0
		Yaccel=0.45
		id = 3015

	[State 3015,位置固定]
		type = TargetBind
		trigger1 = !moveGuarded && !moveReversed
		trigger1 = HitCount = 1
		time = 1
		ID = 3015
		pos = 10,-120
		IgnoreHitPause=1
		Persistent=0

	[State 3015, 7]
		type = DestroySelf
		trigger1 = animtime= 0
		
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
;『パニッシュメント』
;━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
[Statedef 3100]
type    = S
movetype= I
physics = S
juggle  = 0
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
poweradd = -1000

	[State 3000, ボイス]
		type = PlaySnd
		trigger1 = time  = 0
		value = 3100, 1
		channel = 0

	[State 3100,無敵]
		Type=HitBy
		Trigger1=time=0
		value=SCA,AP
		Time=6
		IgnoreHitPause=1

	[State 3100, 弾き]
		Type = ReversalDef
		Trigger1=Anim=3100
		Reversal.Attr = SCA,AA,AT ;攻撃属性指定：全ての打撃
		PauseTime = 0,6;一時停止(30/60)秒
		SparkNo = -1 
		HitSound = S0,10
		sparkxy = 40,-20
		id=3100

	[State 3200,相手やられ移行]
		type = Targetstate
		Trigger1 = target(3100),IsHelper = 0
		Trigger1 = target(3100),StateNo != 3111
		Trigger1 = numtarget(3100)
		Trigger1 = movehit =1
		value = 3111

	[State 3100, アニメ変更]
		type = Changeanim
		Trigger1 = target(3100),StateNo = 3111
		Trigger1 = numtarget(3100)
		Trigger1 = movehit =1
		value = 3101

	[State 3100, アニメ表示優先度変更]
		type = SprPriority
		Trigger1 = anim = 3101
		value = 5

	[State 3000, !エフェクトSE]
		type = PlaySnd
		Trigger1 = anim = 3101
		Trigger1 = movehit = 8
		value = 110, 11
		channel = -1

	[State 3000, !エフェクト]
		type = Explod
		Trigger1 = anim = 3101
		Trigger1 = movehit = 8
		Anim = 1304
		PosType = P2
		Pos = 0, -120
		BindTime = -1
		RemoveTime = -2
		Ownpal = 1
		Scale = 1,1
		IgnoreHitPause = 1
		SuperMoveTime = 99999
		PauseMoveTime = 99999
		SprPriority = 5
		ontop = 1
		persistent=0

	[State 3100, 埃]
		type = Explod
		triggerAll = anim = 3101
		trigger1 = animelemtime(5) = 0
		anim = 6591
		ID = 2012
		pos = -15, 0
		postype = p1
		bindtime = -1
		random = 0, 0
		supermovetime = 0
		pausemovetime = 0
		scale = 1.2, 1.2
		sprpriority = 4
		ownpal = 1
		removeongethit = 1

	[State 3100, ステート終了]
		type = ChangeState
		trigger1 = anim = 3100
		trigger1 = animtime = 0
		value = 0
		ctrl = 1

	[State 3100, ステート終了]
	type = Turn
		Trigger1 = movehit
		trigger1 =  target(3100),facing = facing

	[State 3101,相手位置サーチ]
		type = Posset;Add
		trigger1 = anim = 3101
		trigger1 = animtime = 0
		x = -target(3100),facing * 170;abs(enemynear,pos x - pos x + facing * 90)
		y = 0

	[State 3100, ステート変更]
		type = ChangeState
		trigger1 = anim = 3101
		trigger1 = animtime = 0
		value = 3101


;---------------------------------------------------------------------------
;『仮』成功ステート
;---------------------------------------------------------------------------
[Statedef 3101]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3102
ctrl = 0
sprpriority = 5
poweradd = -0

	[State 3201,すり抜け]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 3201,無敵]
		Type=notHitBy
		Trigger1=1
		value=SCA
		Time=2

	[State 3210,暗転処理]
		Type=envColor
		Trigger1=Time=0
		value=0,0,0
		Time=10
		under=0

	[State 3101, ]
		type = Turn
		trigger1 = time = 0

	[State -1,カットイン1]
		Type=Explod
		trigger1 = time =5
		Anim=7018
		ID=7010
		PosType=Back
		Pos=00,8
		Ownpal=0
		Scale=.35,.35
		OnTop=1
		bindtime = -1
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1

	[State 3210,暗転処理]
		Type=envColor
		Trigger1=Time=5
		value=0,0,0
		Time=25
		under=1

	[State 3000, ボイス]
		type = PlaySnd
		trigger1 = time  = 0
		value = 3100, 2
		channel = 0


	[State 3000, ボイス]
		type = PlaySnd
		trigger1 = time  = 50
		value = 3100, 0
		channel = 0

	[State 3000, 時間停止]
		type = SuperPause
		trigger1 = Time = 5
		time = 20
		anim = -1
		sound = S105,8
		pos = 0,0
		movetime = 0
		darken = 20
		p2defmul = 1
		poweradd = 0

	[State 3000,超必殺エフェクト]
		Type=Explod
		Trigger1=Time=5
		Anim=6000
		ID=6000
		PosType=p1
		Pos=10,-70
		Ownpal=0
		SprPriority=5
		OnTop=1
		RemoveTime=20
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=98
		PauseMoveTime=98


	[State 3210,相手やられ移行]
		type = Targetstate
		Trigger1= time = 5
		value = 3112

	[State -1,全方位螺子]
		Type=Explod
		trigger1 = time =30
		Anim=6590
		ID=6590
		PosType=p2
		Pos=-5,-55
		Ownpal=0
	;	Scale=.35,.35
	;	OnTop=1
			SprPriority = 5
		bindtime = -1
		RemoveTime=-2
		ownpal = 1
		IgnoreHitPause=1
		Persistent=0
		SuperMoveTime=9999
		PauseMoveTime=9999
;		facing = -1


	[State 3000, 血エフェクトSE1]
		type = PlaySnd
		trigger1 = time  = 28
		value = 3100, 10
		channel = -1

	[State 3000, 血エフェクトSE2]
		type = PlaySnd
		trigger1 = time  = 40
		value = 3100, 11
		channel = -1

	[State 3000, 血エフェクトSE2]
		type = PlaySnd
		trigger1 = time  = 54
		value = 3100, 12
		channel = -1

	[State 1201, 血2]
		type = Explod
		trigger1 = time  = 64
		anim = 1303
		pos = -20, -40
		postype = p2
		bindtime = 1
		Scale=.5,.5
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority = -2
		ownpal = 1
		removeongethit = 1
		facing = -1

	[State 1201, 血1]
		type = Explod
		trigger1 = time  = 56
		anim = 6592
		pos = -15, -45
		postype = p2
		bindtime = 1
;		Scale=.5,.5
		removetime = -2
		supermovetime = 0
		pausemovetime = 0
		sprpriority =4
		ownpal = 1
		removeongethit = 1


	[State 1201, 画面揺らし]
type = HitAdd
trigger1 = time = 56
value = 6

	[State 1201, 画面揺らし]
type = HitAdd
trigger1 = time = 64
value = 26

	[State 1201, 画面揺らし]
type = TargetLifeAdd
trigger1 = time = 64
value = -260
ID = 3100
absolute = 0

	[State 1201, 画面揺らし]
		type = EnvShake
		trigger1 = time = 56
		time = 10
		freq =60
		ampl = -40
		phase = 0

	[State 3000, 血エフェクトSE1]
		type = PlaySnd
		trigger1 = time  = 58
		value = 105, 27
		channel = -1

	[State 3000, 血エフェクトSE2]
		type = PlaySnd
		trigger1 = time  = 64
		value = 105, 28
		channel = -1

	[State 3210,相手やられ移行]
		type = Targetstate
		Trigger1= time = 54
		value = 3113

	[State 3000,補正設定]
		Type = VarSet
		trigger1 = time = 64
		fvar(0)=fvar(0)*0.4
		IgnoreHitPause=1
		Persistent=0

	[State 3101, ステート終了]
		type = ChangeState
		trigger1 = animtime = 0
		value = 0
		ctrl = 1

;---------------------------------------------------------------------------
;やられステート待機
[Statedef 3111]
;	Type=A
	MoveType=H
;	physics=N
	velset=0,0

	[State 3201,すり抜け]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 3201,無敵]
		Type=notHitBy
		Trigger1=1
		value=SCA
		Time=1

	[State 3201,Anim2]
		Type=ChangeAnim
		Trigger1=animTime=0
		Trigger2=pos y < 0
		value=0

	[State 3201,Anim2]
		Type=posset
		Trigger1=pos y != 0
		y = 0


	[State 3201,カメラ]
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 1,0
	
	[State 3201,End]
		Type=SelfState
		trigger1 =  Time >= 120
		value = 0
		Ctrl=1

;---------------------------------------------------------------------------
;やられステート1
[Statedef 3112]
	Type=A
	MoveType=H
	physics=N
	velset=0,0

	[State 3101,相手位置サーチ]
		type = Posset;Add
		trigger1 = time = 0
		x = facing*80
		y = 0

	[State 3201,すり抜け]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 3201,無敵]
		Type=notHitBy
		Trigger1=1
		value=SCA
		Time=1

	[State 3201,Anim2]
		Type=ChangeAnim2
		Trigger1=Time=0
		value=3111

	[State 3201,カメラ]
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 1,0
	
	[State 3201,End]
		Type=SelfState
		trigger1 =  Time >= 120
		value = 0
		Ctrl=1
		
;---------------------------------------------------------------------------
;やられステート2
[Statedef 3113]
	Type=A
	MoveType=H
	physics=N
	velset=0,0

	[State 3201,すり抜け]
		type = PlayerPush
		trigger1 = 1
		value = 0

	[State 3201,無敵]
		Type=notHitBy
		Trigger1=anim = 3112
		value=SCA
		Time=1

	[State 3201,Anim2]
		Type=ChangeAnim2
		Trigger1=Time=0
		value=3112

	[State 3201,カメラ]
		type = ScreenBound
		trigger1 = 1
		value = 0
		movecamera = 1,0

	[State 3201,Anim2]
		Type=ChangeAnim2
		Trigger1=Time=32
		value=3113


	[State 3201,End]
		Type=SelfState
		trigger1 =  Time >= 60
		value = 5050

